{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/marked/lib/marked.js","src/handlers/base.ts","src/handlers/download.ts","src/handlers/env.ts","src/handlers/input.ts","src/handlers/output.ts","src/handlers/pin.ts","src/handlers/popup.ts","src/handlers/script.ts","src/handlers/toast.ts","src/i18n.ts","src/main.ts","src/models/datatable.ts","src/models/input/actions.ts","src/models/input/base.ts","src/models/input/checkbox_radio.ts","src/models/input/file.ts","src/models/input/index.ts","src/models/input/input.ts","src/models/input/select.ts","src/models/input/slider.ts","src/models/input/textarea.ts","src/models/output.ts","src/models/pin.ts","src/session.ts","src/state.ts","src/ui.ts","src/utils.ts"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","global","factory","this","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_arrayLikeToArray","arr","len","arr2","Array","_createForOfIteratorHelperLoose","allowArrayLike","it","Symbol","iterator","isArray","minLen","prototype","toString","slice","constructor","name","from","test","_unsupportedIterableToArray","done","value","TypeError","next","bind","defaults","fn","createCommonjsModule","getDefaults","baseUrl","breaks","gfm","headerIds","headerPrefix","highlight","langPrefix","mangle","pedantic","renderer","sanitize","sanitizer","silent","smartLists","smartypants","tokenizer","walkTokens","xhtml","changeDefaults","newDefaults","escapeTest","escapeReplace","escapeTestNoEncode","escapeReplaceNoEncode","escapeReplacements","&","<",">","\"","'","getEscapeReplacement","ch","unescapeTest","unescape","html","replace","_","toLowerCase","charAt","String","fromCharCode","parseInt","substring","caret","nonWordAndColonTest","originIndependentUrl","baseUrls","justDomain","protocol","domain","resolveUrl","base","href","rtrim","relativeBase","indexOf","str","invert","l","suffLen","currChar","substr","helpers","encode","regex","opt","source","obj","val","getRegex","RegExp","prot","decodeURIComponent","encodeURI","exec","arguments","hasOwnProperty","tableRow","count","cells","match","offset","escaped","curr","split","splice","push","trim","b","level","console","warn","pattern","result","defaults$1","rtrim$1","splitCells$1","_escape","findClosingBracket$1","outputLink","cap","link","raw","title","text","type","Tokenizer_1","Tokenizer","options","_proto","space","src","rules","block","newline","tokens","lastToken","trimRight","codeBlockStyle","fences","matchIndentToCode","indentToCode","map","node","matchIndentInNode","join","indentCodeCompensation","lang","heading","trimmed","depth","nptable","item","header","align","hr","blockquote","list","bcurr","bnext","addBack","loose","istask","ischecked","bull","isordered","ordered","start","items","itemMatch","listItemStart","undefined","task","checked","pre","def","tag","table","lheading","paragraph","escape","inline","inLink","inRawBlock","trimmedUrl","rtrimSlash","lastParenIndex","linkLen","_escapes","reflink","links","nolink","strong","maskedSrc","prevChar","punctuation","endReg","endAst","endUnd","lastIndex","middle","index","em","codespan","hasNonSpaceChars","hasSpaceCharsOnBothEnds","br","del","autolink","url","prevCapZero","_backpedal","inlineText","noopTest$1","edit$1","merge$1","_paragraph","_label","_title","bullet","_tag","_comment","normal","reflinkSearch","_punctuation","_blockSkip","_overlapSkip","blockSkip","overlapSkip","_scheme","_email","_attribute","_href","_extended_email","defaults$2","block$1","inline$1","repeatString$1","out","charCodeAt","Math","random","Lexer_1","Lexer","create","lex","lexInline","inlineTokens","Constructor","protoProps","staticProps","blockTokens","top","token","errMsg","error","j","k","l2","row","keepPrevChar","keys","includes","lastIndexOf","get","defaults$3","cleanUrl$1","escape$1","Renderer_1","Renderer","_code","infostring","quote","_html","slugger","slug","body","listitem","checkbox","tablerow","content","tablecell","flags","image","_text","TextRenderer_1","TextRenderer","Slugger_1","Slugger","seen","serialize","getNextSafeSlug","originalSlug","isDryRun","occurenceAccumulator","dryrun","defaults$4","unescape$1","Parser_1","Parser","textRenderer","parse","parseInline","l3","cell","itemBody","unshift","merge$2","checkSanitizeDeprecation$1","escape$2","defaults$5","marked","callback","err","pending","setTimeout","_tokens","message","setOptions","use","extension","opts","_loop","prop","prevRenderer","_len","args","_key","ret","apply","_loop2","prevTokenizer","_len2","_key2","_step","_iterator","_step2","_iterator2","_step3","_iterator3","_step4","_iterator4","_cell","parser","lexer","define","amd","globalThis","self","SessionCtrlHandler","session","_classCallCheck","accept_command","msg","command","close_session","webio_session_id","spec","CommandDispatcher","command2handler","handlers","_iteratorNormalCompletion","_didIteratorError","_iteratorError","h","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","cmd","return","handle_message","utils_1","DownloadHandler","blob","b64toBlob","saveAs","session_1","state_1","EnvSettingHandler","document","auto_scroll_bottom","state","AutoScrollBottom","output_animation","config","outputAnimation","classList","remove","add","http_pull_interval","CurrentSession","HttpSession","change_pull_interval","input_panel_min_height","InputPanelMinHeight","input_panel_init_height","InputPanelInitHeight","input_panel_fixed","FixedInputPanel","input_auto_focus","AutoFocusOnInput","output_max_width","$","css","input_1","ui_1","i18n_1","InputHandler","container_elem","form_ctrls","LRUMap","curr_card","style","height","width","show_input","old_ctrls","get_top","after_show","focus","task_id","old_ctrl","_this","ctrls","get_value","ctrl","element","show","ShowDuration","_after_show_form","move_to_top","hide","_this2","target_ctrls","make_set","FormController","append","create_element","after_add_to_dom","_activate_form","dispatch_ctrl_message","deleted","pop","close_input","name2input","show_count","_this3","tpl","that","Mustache","render","label","cancelable","find","on","send_message","event","data","inputs","buttons","idx","input_spec","input_items","item_class","input_item","event_name","on_reset","preventDefault","check_valid","error_alert","input_names","input_values","each","on_process","loaded","total","make_progress","Promise","all","then","values","input_data","files","multiple","forEach","file","serialize_file","send_buffer","Blob","serialize_json","concat","elem","bar","progress","toFixed","attr","target_name","update_input","cls","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","accept_input_types","all_input_items","_iteratorNormalCompletion4","register_inputitem","output_1","DISPLAY_NONE_TAGS","after_show_callbacks","trigger_output_widget_show_event","cb","AfterCurrentOutputWidgetShow","OutputHandler","container_parent","parent","body_scroll_to","tagName","output_to_root","getWidgetElement","JSON","stringify","scope","is_elem_visible","position","prepend","con","pos","children","eq","insertBefore","insertAfter","wrap","createElement","fadeIn","complete","scroll_bottom","handle_output_ctl","set_scope","container","old","if_exist","empty","scope_css","min-height","prev","getBoundingClientRect","bottom","margin-top","margin-bottom","clear","clear_before","prevAll","clear_after","scroll_to","clear_range","removed","valid","id","pin_1","PinHandler","GetPinValue","send_msg","submit","IsFileInput","PinUpdate","attributes","WaitChange","names","timeout","resolve","change_info","catch","PinChangeCallback","callback_id","is_file","_msg$data$value","toast","Toastify","duration","gravity","backgroundColor","showToast","_toConsumableArray","toastElement","innerText","hideToast","output_2","PopupHandler","current_elem","modal","get_element","closable","implicit_close","render_tpl","assign","large","size","small","ScriptHandler","script","arg_names","arg_vals","res","Function","log","eval","ToastHandler","close","color","stopOnFocus","onClick","userLangCode","navigator","language","userLanguage","customMessage","translations","en","disconnected_with_server","connect_fail","error_in_input","file_size_exceed","file_total_size_exceed","reset","cancel","duplicated_pin_name","browse_file","duplicated_scope_name","file_uploading","zh","ru","de","fa","uz","kz","strfmt","fmt","p1","msgid","_arr","_i","base_1","popup_1","script_1","download_1","toast_1","env_1","window","WebIO","_state","startWebIOClient","runtime_config","addr","backend_addr","backend_address","URL","location","start_session","is_http","webio_session","output_container_elem","input_container_elem","on_session_create","on_session_close","output_ctrl","input_ctrl","popup_ctrl","session_ctrl","script_ctrl","pin_ctrl","download_ctrl","toast_ctrl","env_ctrl","dispatcher","on_server_message","dispatch_message","set_up_session","app_name","httpPullInterval","WebSocketSession","debug","is_http_backend","openApp","message_tpl","pushData","path2field","path","field2path","field","parts","flatten_row_and_extract_column","current_columns","row_data","_typeof","flatten_row","parse_js_func","object","js_func_key","__pywebio_js_function__","params","safe_run","func_name","func","gridDefaultOptions","rowMultiSelectWithClick","groupSelectsChildren","groupSelectsFiltered","enableCellTextSelection","ensureDomOrder","autoGroupColumnDef","pinned","enableCharts","enableRangeSelection","sideBar","toolPanels","labelDefault","labelKey","iconKey","toolPanel","minWidth","maxWidth","gridDefaultColDef","wrapHeaderText","autoHeaderHeight","sortable","filter","resizable","enableValue","enableRowGroup","enablePivot","defaultAggFunc","Datatable","handle_type","field_args","path_args","grid_args","auto_height","column_order","capitalizeFirstLetter","s","toUpperCase","columns","rows","path_field_args","_ref","_ref2","_slicedToArray","column_def","rowData","columnDefs","gen_columns_def","args_from_parent","path_field","extra_args","headerName","column","row_data_and_column_def","records","actions","getRowId","id_field","grid_resolve","gridPromise","reject","instance_id","column_flex_enabled","some","flex","defaultColDef","gridOptions","rowSelection","on_select","multiple_select","getSelectedRowIDs","selectedRows","api","getSelectedNodes","selected_row_ids","group","rid","onGridReady","param","setDomLayout","grid_elem","on_grid_show","clientWidth","ResizeObserver","entries","observer","disconnect","observe","width_free_columns","columnApi","getColumns","getColDef","getId","autoSizeColumns","content_width","getActualWidth","sizeColumnsToFit","deselectAll","btn_idx","btn","onCellFocused","getDisplayedRowAtIndex","rowIndex","cellValue","getValue","cell_content_bar","onSelectionChanged","ag_version","enterprise_key","requirejs","agGrid","Grid","Actions","on_input_event","_possibleConstructorReturn","__proto__","getPrototypeOf","submit_value","btns","onchange","parents","trigger","target_value","update_input_helper","InputItem","valid_status","first_show","input_idx","attr2selector","invalid_feedback","valid_feedback","help_text","attribute","input_elem","class_name","removeClass","addClass","options_tpl","CheckboxRadio","setup_spec","setup_input_options","deep_copy","id_name_prefix","floor","onblur","selected","item_val","_spec","before","raw_val","value_arr","serializeArray","FileUpload","id_name","ignore_keys","placeholder","total_size","max_size","_formate_size","max_total_size","bsCustomFileInput","init","actions_1","checkbox_radio_1","textarea_1","file_1","select_1","slider_1","Input","Textarea","Select","Slider","get_input_item_from_type","type2item","datalist_tpl","previous_value","rectify_input","re","Number","isNaN","datalist_html","datalist","parseFloat","selectpicker","BootstrapVersion","use_bootstrap_select","native","is_mobile","setup_select_options","opts_html","range_value","code_mirror","code_mirror_config","lineNumbers","indentUnit","styleActiveLine","matchBrackets","lineWrapping","autoRefresh","extraKeys","F11","cm","setOption","getOption","Esc","required","mode","CodeMirror","modeURL","codeMirrorModeURL","origin_mode","mode_info","findModeByExtension","findModeByMIME","readonly","disabled","theme","load_codemirror_theme","setValue","fromTextArea","autoLoadMode","instance","changeObj","origin","setSize","url_tpl","codeMirrorThemeURL","cssId","getElementById","head","getElementsByTagName","rel","media","appendChild","datatable_1","Text","createTextNode","parseHtml","html_str","nodes","parseHTML","Prism","languages","ScrollableWidget","keep_bottom","stop","MutationObserver","mutations","animate","scrollTop","childList","subtree","ScopeWidget","dom_id","tip","all_widgets","DOMPurify","outline","table_data","row_id","col_id","_data","span","tdata","template","tabs","PinWidget","type2widget","w","old_style","click_callback_id","container_dom_id","container_selector","placeholder2spec","outerHTML","randomid","names2id","cnt","sub_elem","replaceWith","index_1","contains","disposable_onchange_callbacks","resident_onchange_callbacks","promises","callback_ids","register_on_change","race","input","resolve_list","trigger_onchange_event","safe_poprun_callbacks","callbacks","ws_api","_session_create_ts","_session_create_callbacks","_session_close_callbacks","_on_server_message","ws","_closed","search","set_ws_api","Date","now","WebSocket","onopen","onclose","evt","onmessage","info","onprogress","bufferedAmount","onprogressID","setInterval","clearInterval","closed","send","start_onprogress","readyState","CLOSED","CLOSING","api_url","pull_interval_ms","interval_pull_id","sender","_executed_command_msg_id","ReliableSender","_send","pull","ajax","contentType","dataType","headers","webio-session-id","success","textStatus","jqXHR","_on_request_success","startsWith","ack","msg_start_idx","seq","commands","sid","getResponseHeader","msgs","add_send_task","json","_this4","ajax_options","cache","processData","xhr","XMLHttpRequest","upload","addEventListener","lengthComputable","always","new_interval","_this5","fail","has_input","input_panel","input_cards","end_space","hasClass","input_min_fixed_height","min_fixed_height","max","now_height","min","toggle_input_panel_style","fixed","init_fixed_height","move_input_panel","step","new_height","lastScrollTop","st","pageYOffset","documentElement","downmove","upmove","innerHeight","deltaY","last_y","changedTouches","screenY","variation","top_key","json_obj","json_str","json_buf","TextEncoder","buffer","int2bytes","byteLength","num","buf","ArrayBuffer","dataView","DataView","setUint32","b64Data","sliceSize","byteCharacters","atob","byteArrays","byteNumbers","byteArray","Uint8Array","set","clientHeight","speed","abs","box_scroll_to","scrollTopOffset","characters","charactersLength","new_window","searchParams","open","input_name","filename","mime_type","last_modified","lastModified","userAgentData","mobile","ipadOS","platform","maxTouchPoints","userAgent","window_size","init_seq","send_interval","min_send_interval","queue","_stop","ignore_interval_send","last_send_time","interval_send_id","interval_send","allow_batch_send","enable_batch","do_send","tasks","batch_send","get_tasks","pop_count"],"mappings":"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","file":"pywebio.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/**\n * marked - a markdown parser\n * Copyright (c) 2011-2021, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n/**\n * DO NOT EDIT THIS FILE\n * The code in this file is generated from files in ./src/\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.marked = factory());\n}(this, (function () { 'use strict';\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _createForOfIteratorHelperLoose(o, allowArrayLike) {\n    var it;\n\n    if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n      if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n        if (it) o = it;\n        var i = 0;\n        return function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        };\n      }\n\n      throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n\n    it = o[Symbol.iterator]();\n    return it.next.bind(it);\n  }\n\n  function createCommonjsModule(fn) {\n    var module = { exports: {} };\n  \treturn fn(module, module.exports), module.exports;\n  }\n\n  var defaults = createCommonjsModule(function (module) {\n    function getDefaults() {\n      return {\n        baseUrl: null,\n        breaks: false,\n        gfm: true,\n        headerIds: true,\n        headerPrefix: '',\n        highlight: null,\n        langPrefix: 'language-',\n        mangle: true,\n        pedantic: false,\n        renderer: null,\n        sanitize: false,\n        sanitizer: null,\n        silent: false,\n        smartLists: false,\n        smartypants: false,\n        tokenizer: null,\n        walkTokens: null,\n        xhtml: false\n      };\n    }\n\n    function changeDefaults(newDefaults) {\n      module.exports.defaults = newDefaults;\n    }\n\n    module.exports = {\n      defaults: getDefaults(),\n      getDefaults: getDefaults,\n      changeDefaults: changeDefaults\n    };\n  });\n\n  /**\n   * Helpers\n   */\n  var escapeTest = /[&<>\"']/;\n  var escapeReplace = /[&<>\"']/g;\n  var escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\n  var escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\n  var escapeReplacements = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  var getEscapeReplacement = function getEscapeReplacement(ch) {\n    return escapeReplacements[ch];\n  };\n\n  function escape(html, encode) {\n    if (encode) {\n      if (escapeTest.test(html)) {\n        return html.replace(escapeReplace, getEscapeReplacement);\n      }\n    } else {\n      if (escapeTestNoEncode.test(html)) {\n        return html.replace(escapeReplaceNoEncode, getEscapeReplacement);\n      }\n    }\n\n    return html;\n  }\n\n  var unescapeTest = /&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig;\n\n  function unescape(html) {\n    // explicitly match decimal, hex, and named HTML entities\n    return html.replace(unescapeTest, function (_, n) {\n      n = n.toLowerCase();\n      if (n === 'colon') return ':';\n\n      if (n.charAt(0) === '#') {\n        return n.charAt(1) === 'x' ? String.fromCharCode(parseInt(n.substring(2), 16)) : String.fromCharCode(+n.substring(1));\n      }\n\n      return '';\n    });\n  }\n\n  var caret = /(^|[^\\[])\\^/g;\n\n  function edit(regex, opt) {\n    regex = regex.source || regex;\n    opt = opt || '';\n    var obj = {\n      replace: function replace(name, val) {\n        val = val.source || val;\n        val = val.replace(caret, '$1');\n        regex = regex.replace(name, val);\n        return obj;\n      },\n      getRegex: function getRegex() {\n        return new RegExp(regex, opt);\n      }\n    };\n    return obj;\n  }\n\n  var nonWordAndColonTest = /[^\\w:]/g;\n  var originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n\n  function cleanUrl(sanitize, base, href) {\n    if (sanitize) {\n      var prot;\n\n      try {\n        prot = decodeURIComponent(unescape(href)).replace(nonWordAndColonTest, '').toLowerCase();\n      } catch (e) {\n        return null;\n      }\n\n      if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n        return null;\n      }\n    }\n\n    if (base && !originIndependentUrl.test(href)) {\n      href = resolveUrl(base, href);\n    }\n\n    try {\n      href = encodeURI(href).replace(/%25/g, '%');\n    } catch (e) {\n      return null;\n    }\n\n    return href;\n  }\n\n  var baseUrls = {};\n  var justDomain = /^[^:]+:\\/*[^/]*$/;\n  var protocol = /^([^:]+:)[\\s\\S]*$/;\n  var domain = /^([^:]+:\\/*[^/]*)[\\s\\S]*$/;\n\n  function resolveUrl(base, href) {\n    if (!baseUrls[' ' + base]) {\n      // we can ignore everything in base after the last slash of its path component,\n      // but we might need to add _that_\n      // https://tools.ietf.org/html/rfc3986#section-3\n      if (justDomain.test(base)) {\n        baseUrls[' ' + base] = base + '/';\n      } else {\n        baseUrls[' ' + base] = rtrim(base, '/', true);\n      }\n    }\n\n    base = baseUrls[' ' + base];\n    var relativeBase = base.indexOf(':') === -1;\n\n    if (href.substring(0, 2) === '//') {\n      if (relativeBase) {\n        return href;\n      }\n\n      return base.replace(protocol, '$1') + href;\n    } else if (href.charAt(0) === '/') {\n      if (relativeBase) {\n        return href;\n      }\n\n      return base.replace(domain, '$1') + href;\n    } else {\n      return base + href;\n    }\n  }\n\n  var noopTest = {\n    exec: function noopTest() {}\n  };\n\n  function merge(obj) {\n    var i = 1,\n        target,\n        key;\n\n    for (; i < arguments.length; i++) {\n      target = arguments[i];\n\n      for (key in target) {\n        if (Object.prototype.hasOwnProperty.call(target, key)) {\n          obj[key] = target[key];\n        }\n      }\n    }\n\n    return obj;\n  }\n\n  function splitCells(tableRow, count) {\n    // ensure that every cell-delimiting pipe has a space\n    // before it to distinguish it from an escaped pipe\n    var row = tableRow.replace(/\\|/g, function (match, offset, str) {\n      var escaped = false,\n          curr = offset;\n\n      while (--curr >= 0 && str[curr] === '\\\\') {\n        escaped = !escaped;\n      }\n\n      if (escaped) {\n        // odd number of slashes means | is escaped\n        // so we leave it alone\n        return '|';\n      } else {\n        // add space before unescaped |\n        return ' |';\n      }\n    }),\n        cells = row.split(/ \\|/);\n    var i = 0;\n\n    if (cells.length > count) {\n      cells.splice(count);\n    } else {\n      while (cells.length < count) {\n        cells.push('');\n      }\n    }\n\n    for (; i < cells.length; i++) {\n      // leading or trailing whitespace is ignored per the gfm spec\n      cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n    }\n\n    return cells;\n  } // Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n  // /c*$/ is vulnerable to REDOS.\n  // invert: Remove suffix of non-c chars instead. Default falsey.\n\n\n  function rtrim(str, c, invert) {\n    var l = str.length;\n\n    if (l === 0) {\n      return '';\n    } // Length of suffix matching the invert condition.\n\n\n    var suffLen = 0; // Step left until we fail to match the invert condition.\n\n    while (suffLen < l) {\n      var currChar = str.charAt(l - suffLen - 1);\n\n      if (currChar === c && !invert) {\n        suffLen++;\n      } else if (currChar !== c && invert) {\n        suffLen++;\n      } else {\n        break;\n      }\n    }\n\n    return str.substr(0, l - suffLen);\n  }\n\n  function findClosingBracket(str, b) {\n    if (str.indexOf(b[1]) === -1) {\n      return -1;\n    }\n\n    var l = str.length;\n    var level = 0,\n        i = 0;\n\n    for (; i < l; i++) {\n      if (str[i] === '\\\\') {\n        i++;\n      } else if (str[i] === b[0]) {\n        level++;\n      } else if (str[i] === b[1]) {\n        level--;\n\n        if (level < 0) {\n          return i;\n        }\n      }\n    }\n\n    return -1;\n  }\n\n  function checkSanitizeDeprecation(opt) {\n    if (opt && opt.sanitize && !opt.silent) {\n      console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');\n    }\n  } // copied from https://stackoverflow.com/a/5450113/806777\n\n\n  function repeatString(pattern, count) {\n    if (count < 1) {\n      return '';\n    }\n\n    var result = '';\n\n    while (count > 1) {\n      if (count & 1) {\n        result += pattern;\n      }\n\n      count >>= 1;\n      pattern += pattern;\n    }\n\n    return result + pattern;\n  }\n\n  var helpers = {\n    escape: escape,\n    unescape: unescape,\n    edit: edit,\n    cleanUrl: cleanUrl,\n    resolveUrl: resolveUrl,\n    noopTest: noopTest,\n    merge: merge,\n    splitCells: splitCells,\n    rtrim: rtrim,\n    findClosingBracket: findClosingBracket,\n    checkSanitizeDeprecation: checkSanitizeDeprecation,\n    repeatString: repeatString\n  };\n\n  var defaults$1 = defaults.defaults;\n  var rtrim$1 = helpers.rtrim,\n      splitCells$1 = helpers.splitCells,\n      _escape = helpers.escape,\n      findClosingBracket$1 = helpers.findClosingBracket;\n\n  function outputLink(cap, link, raw) {\n    var href = link.href;\n    var title = link.title ? _escape(link.title) : null;\n    var text = cap[1].replace(/\\\\([\\[\\]])/g, '$1');\n\n    if (cap[0].charAt(0) !== '!') {\n      return {\n        type: 'link',\n        raw: raw,\n        href: href,\n        title: title,\n        text: text\n      };\n    } else {\n      return {\n        type: 'image',\n        raw: raw,\n        href: href,\n        title: title,\n        text: _escape(text)\n      };\n    }\n  }\n\n  function indentCodeCompensation(raw, text) {\n    var matchIndentToCode = raw.match(/^(\\s+)(?:```)/);\n\n    if (matchIndentToCode === null) {\n      return text;\n    }\n\n    var indentToCode = matchIndentToCode[1];\n    return text.split('\\n').map(function (node) {\n      var matchIndentInNode = node.match(/^\\s+/);\n\n      if (matchIndentInNode === null) {\n        return node;\n      }\n\n      var indentInNode = matchIndentInNode[0];\n\n      if (indentInNode.length >= indentToCode.length) {\n        return node.slice(indentToCode.length);\n      }\n\n      return node;\n    }).join('\\n');\n  }\n  /**\n   * Tokenizer\n   */\n\n\n  var Tokenizer_1 = /*#__PURE__*/function () {\n    function Tokenizer(options) {\n      this.options = options || defaults$1;\n    }\n\n    var _proto = Tokenizer.prototype;\n\n    _proto.space = function space(src) {\n      var cap = this.rules.block.newline.exec(src);\n\n      if (cap) {\n        if (cap[0].length > 1) {\n          return {\n            type: 'space',\n            raw: cap[0]\n          };\n        }\n\n        return {\n          raw: '\\n'\n        };\n      }\n    };\n\n    _proto.code = function code(src, tokens) {\n      var cap = this.rules.block.code.exec(src);\n\n      if (cap) {\n        var lastToken = tokens[tokens.length - 1]; // An indented code block cannot interrupt a paragraph.\n\n        if (lastToken && lastToken.type === 'paragraph') {\n          return {\n            raw: cap[0],\n            text: cap[0].trimRight()\n          };\n        }\n\n        var text = cap[0].replace(/^ {1,4}/gm, '');\n        return {\n          type: 'code',\n          raw: cap[0],\n          codeBlockStyle: 'indented',\n          text: !this.options.pedantic ? rtrim$1(text, '\\n') : text\n        };\n      }\n    };\n\n    _proto.fences = function fences(src) {\n      var cap = this.rules.block.fences.exec(src);\n\n      if (cap) {\n        var raw = cap[0];\n        var text = indentCodeCompensation(raw, cap[3] || '');\n        return {\n          type: 'code',\n          raw: raw,\n          lang: cap[2] ? cap[2].trim() : cap[2],\n          text: text\n        };\n      }\n    };\n\n    _proto.heading = function heading(src) {\n      var cap = this.rules.block.heading.exec(src);\n\n      if (cap) {\n        var text = cap[2].trim(); // remove trailing #s\n\n        if (/#$/.test(text)) {\n          var trimmed = rtrim$1(text, '#');\n\n          if (this.options.pedantic) {\n            text = trimmed.trim();\n          } else if (!trimmed || / $/.test(trimmed)) {\n            // CommonMark requires space before trailing #s\n            text = trimmed.trim();\n          }\n        }\n\n        return {\n          type: 'heading',\n          raw: cap[0],\n          depth: cap[1].length,\n          text: text\n        };\n      }\n    };\n\n    _proto.nptable = function nptable(src) {\n      var cap = this.rules.block.nptable.exec(src);\n\n      if (cap) {\n        var item = {\n          type: 'table',\n          header: splitCells$1(cap[1].replace(/^ *| *\\| *$/g, '')),\n          align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n          cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : [],\n          raw: cap[0]\n        };\n\n        if (item.header.length === item.align.length) {\n          var l = item.align.length;\n          var i;\n\n          for (i = 0; i < l; i++) {\n            if (/^ *-+: *$/.test(item.align[i])) {\n              item.align[i] = 'right';\n            } else if (/^ *:-+: *$/.test(item.align[i])) {\n              item.align[i] = 'center';\n            } else if (/^ *:-+ *$/.test(item.align[i])) {\n              item.align[i] = 'left';\n            } else {\n              item.align[i] = null;\n            }\n          }\n\n          l = item.cells.length;\n\n          for (i = 0; i < l; i++) {\n            item.cells[i] = splitCells$1(item.cells[i], item.header.length);\n          }\n\n          return item;\n        }\n      }\n    };\n\n    _proto.hr = function hr(src) {\n      var cap = this.rules.block.hr.exec(src);\n\n      if (cap) {\n        return {\n          type: 'hr',\n          raw: cap[0]\n        };\n      }\n    };\n\n    _proto.blockquote = function blockquote(src) {\n      var cap = this.rules.block.blockquote.exec(src);\n\n      if (cap) {\n        var text = cap[0].replace(/^ *> ?/gm, '');\n        return {\n          type: 'blockquote',\n          raw: cap[0],\n          text: text\n        };\n      }\n    };\n\n    _proto.list = function list(src) {\n      var cap = this.rules.block.list.exec(src);\n\n      if (cap) {\n        var raw = cap[0];\n        var bull = cap[2];\n        var isordered = bull.length > 1;\n        var list = {\n          type: 'list',\n          raw: raw,\n          ordered: isordered,\n          start: isordered ? +bull.slice(0, -1) : '',\n          loose: false,\n          items: []\n        }; // Get each top-level item.\n\n        var itemMatch = cap[0].match(this.rules.block.item);\n        var next = false,\n            item,\n            space,\n            bcurr,\n            bnext,\n            addBack,\n            loose,\n            istask,\n            ischecked;\n        var l = itemMatch.length;\n        bcurr = this.rules.block.listItemStart.exec(itemMatch[0]);\n\n        for (var i = 0; i < l; i++) {\n          item = itemMatch[i];\n          raw = item; // Determine whether the next list item belongs here.\n          // Backpedal if it does not belong in this list.\n\n          if (i !== l - 1) {\n            bnext = this.rules.block.listItemStart.exec(itemMatch[i + 1]);\n\n            if (bnext[1].length > bcurr[0].length || bnext[1].length > 3) {\n              // nested list\n              itemMatch.splice(i, 2, itemMatch[i] + '\\n' + itemMatch[i + 1]);\n              i--;\n              l--;\n              continue;\n            } else {\n              if ( // different bullet style\n              !this.options.pedantic || this.options.smartLists ? bnext[2][bnext[2].length - 1] !== bull[bull.length - 1] : isordered === (bnext[2].length === 1)) {\n                addBack = itemMatch.slice(i + 1).join('\\n');\n                list.raw = list.raw.substring(0, list.raw.length - addBack.length);\n                i = l - 1;\n              }\n            }\n\n            bcurr = bnext;\n          } // Remove the list item's bullet\n          // so it is seen as the next token.\n\n\n          space = item.length;\n          item = item.replace(/^ *([*+-]|\\d+[.)]) ?/, ''); // Outdent whatever the\n          // list item contains. Hacky.\n\n          if (~item.indexOf('\\n ')) {\n            space -= item.length;\n            item = !this.options.pedantic ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '') : item.replace(/^ {1,4}/gm, '');\n          } // Determine whether item is loose or not.\n          // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n          // for discount behavior.\n\n\n          loose = next || /\\n\\n(?!\\s*$)/.test(item);\n\n          if (i !== l - 1) {\n            next = item.charAt(item.length - 1) === '\\n';\n            if (!loose) loose = next;\n          }\n\n          if (loose) {\n            list.loose = true;\n          } // Check for task list items\n\n\n          if (this.options.gfm) {\n            istask = /^\\[[ xX]\\] /.test(item);\n            ischecked = undefined;\n\n            if (istask) {\n              ischecked = item[1] !== ' ';\n              item = item.replace(/^\\[[ xX]\\] +/, '');\n            }\n          }\n\n          list.items.push({\n            type: 'list_item',\n            raw: raw,\n            task: istask,\n            checked: ischecked,\n            loose: loose,\n            text: item\n          });\n        }\n\n        return list;\n      }\n    };\n\n    _proto.html = function html(src) {\n      var cap = this.rules.block.html.exec(src);\n\n      if (cap) {\n        return {\n          type: this.options.sanitize ? 'paragraph' : 'html',\n          raw: cap[0],\n          pre: !this.options.sanitizer && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n          text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0]\n        };\n      }\n    };\n\n    _proto.def = function def(src) {\n      var cap = this.rules.block.def.exec(src);\n\n      if (cap) {\n        if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n        var tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n        return {\n          tag: tag,\n          raw: cap[0],\n          href: cap[2],\n          title: cap[3]\n        };\n      }\n    };\n\n    _proto.table = function table(src) {\n      var cap = this.rules.block.table.exec(src);\n\n      if (cap) {\n        var item = {\n          type: 'table',\n          header: splitCells$1(cap[1].replace(/^ *| *\\| *$/g, '')),\n          align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n          cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n        };\n\n        if (item.header.length === item.align.length) {\n          item.raw = cap[0];\n          var l = item.align.length;\n          var i;\n\n          for (i = 0; i < l; i++) {\n            if (/^ *-+: *$/.test(item.align[i])) {\n              item.align[i] = 'right';\n            } else if (/^ *:-+: *$/.test(item.align[i])) {\n              item.align[i] = 'center';\n            } else if (/^ *:-+ *$/.test(item.align[i])) {\n              item.align[i] = 'left';\n            } else {\n              item.align[i] = null;\n            }\n          }\n\n          l = item.cells.length;\n\n          for (i = 0; i < l; i++) {\n            item.cells[i] = splitCells$1(item.cells[i].replace(/^ *\\| *| *\\| *$/g, ''), item.header.length);\n          }\n\n          return item;\n        }\n      }\n    };\n\n    _proto.lheading = function lheading(src) {\n      var cap = this.rules.block.lheading.exec(src);\n\n      if (cap) {\n        return {\n          type: 'heading',\n          raw: cap[0],\n          depth: cap[2].charAt(0) === '=' ? 1 : 2,\n          text: cap[1]\n        };\n      }\n    };\n\n    _proto.paragraph = function paragraph(src) {\n      var cap = this.rules.block.paragraph.exec(src);\n\n      if (cap) {\n        return {\n          type: 'paragraph',\n          raw: cap[0],\n          text: cap[1].charAt(cap[1].length - 1) === '\\n' ? cap[1].slice(0, -1) : cap[1]\n        };\n      }\n    };\n\n    _proto.text = function text(src, tokens) {\n      var cap = this.rules.block.text.exec(src);\n\n      if (cap) {\n        var lastToken = tokens[tokens.length - 1];\n\n        if (lastToken && lastToken.type === 'text') {\n          return {\n            raw: cap[0],\n            text: cap[0]\n          };\n        }\n\n        return {\n          type: 'text',\n          raw: cap[0],\n          text: cap[0]\n        };\n      }\n    };\n\n    _proto.escape = function escape(src) {\n      var cap = this.rules.inline.escape.exec(src);\n\n      if (cap) {\n        return {\n          type: 'escape',\n          raw: cap[0],\n          text: _escape(cap[1])\n        };\n      }\n    };\n\n    _proto.tag = function tag(src, inLink, inRawBlock) {\n      var cap = this.rules.inline.tag.exec(src);\n\n      if (cap) {\n        if (!inLink && /^<a /i.test(cap[0])) {\n          inLink = true;\n        } else if (inLink && /^<\\/a>/i.test(cap[0])) {\n          inLink = false;\n        }\n\n        if (!inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n          inRawBlock = true;\n        } else if (inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n          inRawBlock = false;\n        }\n\n        return {\n          type: this.options.sanitize ? 'text' : 'html',\n          raw: cap[0],\n          inLink: inLink,\n          inRawBlock: inRawBlock,\n          text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0]\n        };\n      }\n    };\n\n    _proto.link = function link(src) {\n      var cap = this.rules.inline.link.exec(src);\n\n      if (cap) {\n        var trimmedUrl = cap[2].trim();\n\n        if (!this.options.pedantic && /^</.test(trimmedUrl)) {\n          // commonmark requires matching angle brackets\n          if (!/>$/.test(trimmedUrl)) {\n            return;\n          } // ending angle bracket cannot be escaped\n\n\n          var rtrimSlash = rtrim$1(trimmedUrl.slice(0, -1), '\\\\');\n\n          if ((trimmedUrl.length - rtrimSlash.length) % 2 === 0) {\n            return;\n          }\n        } else {\n          // find closing parenthesis\n          var lastParenIndex = findClosingBracket$1(cap[2], '()');\n\n          if (lastParenIndex > -1) {\n            var start = cap[0].indexOf('!') === 0 ? 5 : 4;\n            var linkLen = start + cap[1].length + lastParenIndex;\n            cap[2] = cap[2].substring(0, lastParenIndex);\n            cap[0] = cap[0].substring(0, linkLen).trim();\n            cap[3] = '';\n          }\n        }\n\n        var href = cap[2];\n        var title = '';\n\n        if (this.options.pedantic) {\n          // split pedantic href and title\n          var link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n          if (link) {\n            href = link[1];\n            title = link[3];\n          }\n        } else {\n          title = cap[3] ? cap[3].slice(1, -1) : '';\n        }\n\n        href = href.trim();\n\n        if (/^</.test(href)) {\n          if (this.options.pedantic && !/>$/.test(trimmedUrl)) {\n            // pedantic allows starting angle bracket without ending angle bracket\n            href = href.slice(1);\n          } else {\n            href = href.slice(1, -1);\n          }\n        }\n\n        return outputLink(cap, {\n          href: href ? href.replace(this.rules.inline._escapes, '$1') : href,\n          title: title ? title.replace(this.rules.inline._escapes, '$1') : title\n        }, cap[0]);\n      }\n    };\n\n    _proto.reflink = function reflink(src, links) {\n      var cap;\n\n      if ((cap = this.rules.inline.reflink.exec(src)) || (cap = this.rules.inline.nolink.exec(src))) {\n        var link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n        link = links[link.toLowerCase()];\n\n        if (!link || !link.href) {\n          var text = cap[0].charAt(0);\n          return {\n            type: 'text',\n            raw: text,\n            text: text\n          };\n        }\n\n        return outputLink(cap, link, cap[0]);\n      }\n    };\n\n    _proto.strong = function strong(src, maskedSrc, prevChar) {\n      if (prevChar === void 0) {\n        prevChar = '';\n      }\n\n      var match = this.rules.inline.strong.start.exec(src);\n\n      if (match && (!match[1] || match[1] && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar)))) {\n        maskedSrc = maskedSrc.slice(-1 * src.length);\n        var endReg = match[0] === '**' ? this.rules.inline.strong.endAst : this.rules.inline.strong.endUnd;\n        endReg.lastIndex = 0;\n        var cap;\n\n        while ((match = endReg.exec(maskedSrc)) != null) {\n          cap = this.rules.inline.strong.middle.exec(maskedSrc.slice(0, match.index + 3));\n\n          if (cap) {\n            return {\n              type: 'strong',\n              raw: src.slice(0, cap[0].length),\n              text: src.slice(2, cap[0].length - 2)\n            };\n          }\n        }\n      }\n    };\n\n    _proto.em = function em(src, maskedSrc, prevChar) {\n      if (prevChar === void 0) {\n        prevChar = '';\n      }\n\n      var match = this.rules.inline.em.start.exec(src);\n\n      if (match && (!match[1] || match[1] && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar)))) {\n        maskedSrc = maskedSrc.slice(-1 * src.length);\n        var endReg = match[0] === '*' ? this.rules.inline.em.endAst : this.rules.inline.em.endUnd;\n        endReg.lastIndex = 0;\n        var cap;\n\n        while ((match = endReg.exec(maskedSrc)) != null) {\n          cap = this.rules.inline.em.middle.exec(maskedSrc.slice(0, match.index + 2));\n\n          if (cap) {\n            return {\n              type: 'em',\n              raw: src.slice(0, cap[0].length),\n              text: src.slice(1, cap[0].length - 1)\n            };\n          }\n        }\n      }\n    };\n\n    _proto.codespan = function codespan(src) {\n      var cap = this.rules.inline.code.exec(src);\n\n      if (cap) {\n        var text = cap[2].replace(/\\n/g, ' ');\n        var hasNonSpaceChars = /[^ ]/.test(text);\n        var hasSpaceCharsOnBothEnds = /^ /.test(text) && / $/.test(text);\n\n        if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {\n          text = text.substring(1, text.length - 1);\n        }\n\n        text = _escape(text, true);\n        return {\n          type: 'codespan',\n          raw: cap[0],\n          text: text\n        };\n      }\n    };\n\n    _proto.br = function br(src) {\n      var cap = this.rules.inline.br.exec(src);\n\n      if (cap) {\n        return {\n          type: 'br',\n          raw: cap[0]\n        };\n      }\n    };\n\n    _proto.del = function del(src) {\n      var cap = this.rules.inline.del.exec(src);\n\n      if (cap) {\n        return {\n          type: 'del',\n          raw: cap[0],\n          text: cap[2]\n        };\n      }\n    };\n\n    _proto.autolink = function autolink(src, mangle) {\n      var cap = this.rules.inline.autolink.exec(src);\n\n      if (cap) {\n        var text, href;\n\n        if (cap[2] === '@') {\n          text = _escape(this.options.mangle ? mangle(cap[1]) : cap[1]);\n          href = 'mailto:' + text;\n        } else {\n          text = _escape(cap[1]);\n          href = text;\n        }\n\n        return {\n          type: 'link',\n          raw: cap[0],\n          text: text,\n          href: href,\n          tokens: [{\n            type: 'text',\n            raw: text,\n            text: text\n          }]\n        };\n      }\n    };\n\n    _proto.url = function url(src, mangle) {\n      var cap;\n\n      if (cap = this.rules.inline.url.exec(src)) {\n        var text, href;\n\n        if (cap[2] === '@') {\n          text = _escape(this.options.mangle ? mangle(cap[0]) : cap[0]);\n          href = 'mailto:' + text;\n        } else {\n          // do extended autolink path validation\n          var prevCapZero;\n\n          do {\n            prevCapZero = cap[0];\n            cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];\n          } while (prevCapZero !== cap[0]);\n\n          text = _escape(cap[0]);\n\n          if (cap[1] === 'www.') {\n            href = 'http://' + text;\n          } else {\n            href = text;\n          }\n        }\n\n        return {\n          type: 'link',\n          raw: cap[0],\n          text: text,\n          href: href,\n          tokens: [{\n            type: 'text',\n            raw: text,\n            text: text\n          }]\n        };\n      }\n    };\n\n    _proto.inlineText = function inlineText(src, inRawBlock, smartypants) {\n      var cap = this.rules.inline.text.exec(src);\n\n      if (cap) {\n        var text;\n\n        if (inRawBlock) {\n          text = this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0];\n        } else {\n          text = _escape(this.options.smartypants ? smartypants(cap[0]) : cap[0]);\n        }\n\n        return {\n          type: 'text',\n          raw: cap[0],\n          text: text\n        };\n      }\n    };\n\n    return Tokenizer;\n  }();\n\n  var noopTest$1 = helpers.noopTest,\n      edit$1 = helpers.edit,\n      merge$1 = helpers.merge;\n  /**\n   * Block-Level Grammar\n   */\n\n  var block = {\n    newline: /^(?: *(?:\\n|$))+/,\n    code: /^( {4}[^\\n]+(?:\\n(?: *(?:\\n|$))*)?)+/,\n    fences: /^ {0,3}(`{3,}(?=[^`\\n]*\\n)|~{3,})([^\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?:\\n+|$)|$)/,\n    hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n    heading: /^ {0,3}(#{1,6})(?=\\s|$)(.*)(?:\\n+|$)/,\n    blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n    list: /^( {0,3})(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?! {0,3}bull )\\n*|\\s*$)/,\n    html: '^ {0,3}(?:' // optional indentation\n    + '<(script|pre|style)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n    + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n    + '|<\\\\?[\\\\s\\\\S]*?(?:\\\\?>\\\\n*|$)' // (3)\n    + '|<![A-Z][\\\\s\\\\S]*?(?:>\\\\n*|$)' // (4)\n    + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?(?:\\\\]\\\\]>\\\\n*|$)' // (5)\n    + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (6)\n    + '|<(?!script|pre|style)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) open tag\n    + '|</(?!script|pre|style)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) closing tag\n    + ')',\n    def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n    nptable: noopTest$1,\n    table: noopTest$1,\n    lheading: /^([^\\n]+)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n    // regex template, placeholders will be replaced according to different paragraph\n    // interruption rules of commonmark and the original markdown spec:\n    _paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html| +\\n)[^\\n]+)*)/,\n    text: /^[^\\n]+/\n  };\n  block._label = /(?!\\s*\\])(?:\\\\[\\[\\]]|[^\\[\\]])+/;\n  block._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\n  block.def = edit$1(block.def).replace('label', block._label).replace('title', block._title).getRegex();\n  block.bullet = /(?:[*+-]|\\d{1,9}[.)])/;\n  block.item = /^( *)(bull) ?[^\\n]*(?:\\n(?! *bull ?)[^\\n]*)*/;\n  block.item = edit$1(block.item, 'gm').replace(/bull/g, block.bullet).getRegex();\n  block.listItemStart = edit$1(/^( *)(bull)/).replace('bull', block.bullet).getRegex();\n  block.list = edit$1(block.list).replace(/bull/g, block.bullet).replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))').replace('def', '\\\\n+(?=' + block.def.source + ')').getRegex();\n  block._tag = 'address|article|aside|base|basefont|blockquote|body|caption' + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption' + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe' + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option' + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr' + '|track|ul';\n  block._comment = /<!--(?!-?>)[\\s\\S]*?(?:-->|$)/;\n  block.html = edit$1(block.html, 'i').replace('comment', block._comment).replace('tag', block._tag).replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/).getRegex();\n  block.paragraph = edit$1(block._paragraph).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n  .replace('blockquote', ' {0,3}>').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n  block.blockquote = edit$1(block.blockquote).replace('paragraph', block.paragraph).getRegex();\n  /**\n   * Normal Block Grammar\n   */\n\n  block.normal = merge$1({}, block);\n  /**\n   * GFM Block Grammar\n   */\n\n  block.gfm = merge$1({}, block.normal, {\n    nptable: '^ *([^|\\\\n ].*\\\\|.*)\\\\n' // Header\n    + ' {0,3}([-:]+ *\\\\|[-| :]*)' // Align\n    + '(?:\\\\n((?:(?!\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)',\n    // Cells\n    table: '^ *\\\\|(.+)\\\\n' // Header\n    + ' {0,3}\\\\|?( *[-:]+[-| :]*)' // Align\n    + '(?:\\\\n *((?:(?!\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)' // Cells\n\n  });\n  block.gfm.nptable = edit$1(block.gfm.nptable).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n  .getRegex();\n  block.gfm.table = edit$1(block.gfm.table).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n  .getRegex();\n  /**\n   * Pedantic grammar (original John Gruber's loose markdown specification)\n   */\n\n  block.pedantic = merge$1({}, block.normal, {\n    html: edit$1('^ *(?:comment *(?:\\\\n|\\\\s*$)' + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n    + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))').replace('comment', block._comment).replace(/tag/g, '(?!(?:' + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub' + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)' + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b').getRegex(),\n    def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,\n    heading: /^(#{1,6})(.*)(?:\\n+|$)/,\n    fences: noopTest$1,\n    // fences not supported\n    paragraph: edit$1(block.normal._paragraph).replace('hr', block.hr).replace('heading', ' *#{1,6} *[^\\n]').replace('lheading', block.lheading).replace('blockquote', ' {0,3}>').replace('|fences', '').replace('|list', '').replace('|html', '').getRegex()\n  });\n  /**\n   * Inline-Level Grammar\n   */\n\n  var inline = {\n    escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n    autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n    url: noopTest$1,\n    tag: '^comment' + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n    + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n    + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n    + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>',\n    // CDATA section\n    link: /^!?\\[(label)\\]\\(\\s*(href)(?:\\s+(title))?\\s*\\)/,\n    reflink: /^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,\n    nolink: /^!?\\[(?!\\s*\\])((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\](?:\\[\\])?/,\n    reflinkSearch: 'reflink|nolink(?!\\\\()',\n    strong: {\n      start: /^(?:(\\*\\*(?=[*punctuation]))|\\*\\*)(?![\\s])|__/,\n      // (1) returns if starts w/ punctuation\n      middle: /^\\*\\*(?:(?:(?!overlapSkip)(?:[^*]|\\\\\\*)|overlapSkip)|\\*(?:(?!overlapSkip)(?:[^*]|\\\\\\*)|overlapSkip)*?\\*)+?\\*\\*$|^__(?![\\s])((?:(?:(?!overlapSkip)(?:[^_]|\\\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\\\_)|overlapSkip)*?_)+?)__$/,\n      endAst: /[^punctuation\\s]\\*\\*(?!\\*)|[punctuation]\\*\\*(?!\\*)(?:(?=[punctuation_\\s]|$))/,\n      // last char can't be punct, or final * must also be followed by punct (or endline)\n      endUnd: /[^\\s]__(?!_)(?:(?=[punctuation*\\s])|$)/ // last char can't be a space, and final _ must preceed punct or \\s (or endline)\n\n    },\n    em: {\n      start: /^(?:(\\*(?=[punctuation]))|\\*)(?![*\\s])|_/,\n      // (1) returns if starts w/ punctuation\n      middle: /^\\*(?:(?:(?!overlapSkip)(?:[^*]|\\\\\\*)|overlapSkip)|\\*(?:(?!overlapSkip)(?:[^*]|\\\\\\*)|overlapSkip)*?\\*)+?\\*$|^_(?![_\\s])(?:(?:(?!overlapSkip)(?:[^_]|\\\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\\\_)|overlapSkip)*?_)+?_$/,\n      endAst: /[^punctuation\\s]\\*(?!\\*)|[punctuation]\\*(?!\\*)(?:(?=[punctuation_\\s]|$))/,\n      // last char can't be punct, or final * must also be followed by punct (or endline)\n      endUnd: /[^\\s]_(?!_)(?:(?=[punctuation*\\s])|$)/ // last char can't be a space, and final _ must preceed punct or \\s (or endline)\n\n    },\n    code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n    br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n    del: noopTest$1,\n    text: /^(`+|[^`])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*]|\\b_|$)|[^ ](?= {2,}\\n)))/,\n    punctuation: /^([\\s*punctuation])/\n  }; // list of punctuation marks from common mark spec\n  // without * and _ to workaround cases with double emphasis\n\n  inline._punctuation = '!\"#$%&\\'()+\\\\-.,/:;<=>?@\\\\[\\\\]`^{|}~';\n  inline.punctuation = edit$1(inline.punctuation).replace(/punctuation/g, inline._punctuation).getRegex(); // sequences em should skip over [title](link), `code`, <html>\n\n  inline._blockSkip = '\\\\[[^\\\\]]*?\\\\]\\\\([^\\\\)]*?\\\\)|`[^`]*?`|<[^>]*?>';\n  inline._overlapSkip = '__[^_]*?__|\\\\*\\\\*\\\\[^\\\\*\\\\]*?\\\\*\\\\*';\n  inline._comment = edit$1(block._comment).replace('(?:-->|$)', '-->').getRegex();\n  inline.em.start = edit$1(inline.em.start).replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.em.middle = edit$1(inline.em.middle).replace(/punctuation/g, inline._punctuation).replace(/overlapSkip/g, inline._overlapSkip).getRegex();\n  inline.em.endAst = edit$1(inline.em.endAst, 'g').replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.em.endUnd = edit$1(inline.em.endUnd, 'g').replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.strong.start = edit$1(inline.strong.start).replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.strong.middle = edit$1(inline.strong.middle).replace(/punctuation/g, inline._punctuation).replace(/overlapSkip/g, inline._overlapSkip).getRegex();\n  inline.strong.endAst = edit$1(inline.strong.endAst, 'g').replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.strong.endUnd = edit$1(inline.strong.endUnd, 'g').replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.blockSkip = edit$1(inline._blockSkip, 'g').getRegex();\n  inline.overlapSkip = edit$1(inline._overlapSkip, 'g').getRegex();\n  inline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\n  inline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\n  inline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\n  inline.autolink = edit$1(inline.autolink).replace('scheme', inline._scheme).replace('email', inline._email).getRegex();\n  inline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\n  inline.tag = edit$1(inline.tag).replace('comment', inline._comment).replace('attribute', inline._attribute).getRegex();\n  inline._label = /(?:\\[(?:\\\\.|[^\\[\\]\\\\])*\\]|\\\\.|`[^`]*`|[^\\[\\]\\\\`])*?/;\n  inline._href = /<(?:\\\\.|[^\\n<>\\\\])+>|[^\\s\\x00-\\x1f]*/;\n  inline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\n  inline.link = edit$1(inline.link).replace('label', inline._label).replace('href', inline._href).replace('title', inline._title).getRegex();\n  inline.reflink = edit$1(inline.reflink).replace('label', inline._label).getRegex();\n  inline.reflinkSearch = edit$1(inline.reflinkSearch, 'g').replace('reflink', inline.reflink).replace('nolink', inline.nolink).getRegex();\n  /**\n   * Normal Inline Grammar\n   */\n\n  inline.normal = merge$1({}, inline);\n  /**\n   * Pedantic Inline Grammar\n   */\n\n  inline.pedantic = merge$1({}, inline.normal, {\n    strong: {\n      start: /^__|\\*\\*/,\n      middle: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n      endAst: /\\*\\*(?!\\*)/g,\n      endUnd: /__(?!_)/g\n    },\n    em: {\n      start: /^_|\\*/,\n      middle: /^()\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)|^_(?=\\S)([\\s\\S]*?\\S)_(?!_)/,\n      endAst: /\\*(?!\\*)/g,\n      endUnd: /_(?!_)/g\n    },\n    link: edit$1(/^!?\\[(label)\\]\\((.*?)\\)/).replace('label', inline._label).getRegex(),\n    reflink: edit$1(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/).replace('label', inline._label).getRegex()\n  });\n  /**\n   * GFM Inline Grammar\n   */\n\n  inline.gfm = merge$1({}, inline.normal, {\n    escape: edit$1(inline.escape).replace('])', '~|])').getRegex(),\n    _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n    url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n    _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n    del: /^(~~?)(?=[^\\s~])([\\s\\S]*?[^\\s~])\\1(?=[^~]|$)/,\n    text: /^([`~]+|[^`~])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*~]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))/\n  });\n  inline.gfm.url = edit$1(inline.gfm.url, 'i').replace('email', inline.gfm._extended_email).getRegex();\n  /**\n   * GFM + Line Breaks Inline Grammar\n   */\n\n  inline.breaks = merge$1({}, inline.gfm, {\n    br: edit$1(inline.br).replace('{2,}', '*').getRegex(),\n    text: edit$1(inline.gfm.text).replace('\\\\b_', '\\\\b_| {2,}\\\\n').replace(/\\{2,\\}/g, '*').getRegex()\n  });\n  var rules = {\n    block: block,\n    inline: inline\n  };\n\n  var defaults$2 = defaults.defaults;\n  var block$1 = rules.block,\n      inline$1 = rules.inline;\n  var repeatString$1 = helpers.repeatString;\n  /**\n   * smartypants text replacement\n   */\n\n  function smartypants(text) {\n    return text // em-dashes\n    .replace(/---/g, \"\\u2014\") // en-dashes\n    .replace(/--/g, \"\\u2013\") // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, \"$1\\u2018\") // closing singles & apostrophes\n    .replace(/'/g, \"\\u2019\") // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, \"$1\\u201C\") // closing doubles\n    .replace(/\"/g, \"\\u201D\") // ellipses\n    .replace(/\\.{3}/g, \"\\u2026\");\n  }\n  /**\n   * mangle email addresses\n   */\n\n\n  function mangle(text) {\n    var out = '',\n        i,\n        ch;\n    var l = text.length;\n\n    for (i = 0; i < l; i++) {\n      ch = text.charCodeAt(i);\n\n      if (Math.random() > 0.5) {\n        ch = 'x' + ch.toString(16);\n      }\n\n      out += '&#' + ch + ';';\n    }\n\n    return out;\n  }\n  /**\n   * Block Lexer\n   */\n\n\n  var Lexer_1 = /*#__PURE__*/function () {\n    function Lexer(options) {\n      this.tokens = [];\n      this.tokens.links = Object.create(null);\n      this.options = options || defaults$2;\n      this.options.tokenizer = this.options.tokenizer || new Tokenizer_1();\n      this.tokenizer = this.options.tokenizer;\n      this.tokenizer.options = this.options;\n      var rules = {\n        block: block$1.normal,\n        inline: inline$1.normal\n      };\n\n      if (this.options.pedantic) {\n        rules.block = block$1.pedantic;\n        rules.inline = inline$1.pedantic;\n      } else if (this.options.gfm) {\n        rules.block = block$1.gfm;\n\n        if (this.options.breaks) {\n          rules.inline = inline$1.breaks;\n        } else {\n          rules.inline = inline$1.gfm;\n        }\n      }\n\n      this.tokenizer.rules = rules;\n    }\n    /**\n     * Expose Rules\n     */\n\n\n    /**\n     * Static Lex Method\n     */\n    Lexer.lex = function lex(src, options) {\n      var lexer = new Lexer(options);\n      return lexer.lex(src);\n    }\n    /**\n     * Static Lex Inline Method\n     */\n    ;\n\n    Lexer.lexInline = function lexInline(src, options) {\n      var lexer = new Lexer(options);\n      return lexer.inlineTokens(src);\n    }\n    /**\n     * Preprocessing\n     */\n    ;\n\n    var _proto = Lexer.prototype;\n\n    _proto.lex = function lex(src) {\n      src = src.replace(/\\r\\n|\\r/g, '\\n').replace(/\\t/g, '    ');\n      this.blockTokens(src, this.tokens, true);\n      this.inline(this.tokens);\n      return this.tokens;\n    }\n    /**\n     * Lexing\n     */\n    ;\n\n    _proto.blockTokens = function blockTokens(src, tokens, top) {\n      if (tokens === void 0) {\n        tokens = [];\n      }\n\n      if (top === void 0) {\n        top = true;\n      }\n\n      if (this.options.pedantic) {\n        src = src.replace(/^ +$/gm, '');\n      }\n\n      var token, i, l, lastToken;\n\n      while (src) {\n        // newline\n        if (token = this.tokenizer.space(src)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type) {\n            tokens.push(token);\n          }\n\n          continue;\n        } // code\n\n\n        if (token = this.tokenizer.code(src, tokens)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type) {\n            tokens.push(token);\n          } else {\n            lastToken = tokens[tokens.length - 1];\n            lastToken.raw += '\\n' + token.raw;\n            lastToken.text += '\\n' + token.text;\n          }\n\n          continue;\n        } // fences\n\n\n        if (token = this.tokenizer.fences(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // heading\n\n\n        if (token = this.tokenizer.heading(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // table no leading pipe (gfm)\n\n\n        if (token = this.tokenizer.nptable(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // hr\n\n\n        if (token = this.tokenizer.hr(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // blockquote\n\n\n        if (token = this.tokenizer.blockquote(src)) {\n          src = src.substring(token.raw.length);\n          token.tokens = this.blockTokens(token.text, [], top);\n          tokens.push(token);\n          continue;\n        } // list\n\n\n        if (token = this.tokenizer.list(src)) {\n          src = src.substring(token.raw.length);\n          l = token.items.length;\n\n          for (i = 0; i < l; i++) {\n            token.items[i].tokens = this.blockTokens(token.items[i].text, [], false);\n          }\n\n          tokens.push(token);\n          continue;\n        } // html\n\n\n        if (token = this.tokenizer.html(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // def\n\n\n        if (top && (token = this.tokenizer.def(src))) {\n          src = src.substring(token.raw.length);\n\n          if (!this.tokens.links[token.tag]) {\n            this.tokens.links[token.tag] = {\n              href: token.href,\n              title: token.title\n            };\n          }\n\n          continue;\n        } // table (gfm)\n\n\n        if (token = this.tokenizer.table(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // lheading\n\n\n        if (token = this.tokenizer.lheading(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // top-level paragraph\n\n\n        if (top && (token = this.tokenizer.paragraph(src))) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // text\n\n\n        if (token = this.tokenizer.text(src, tokens)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type) {\n            tokens.push(token);\n          } else {\n            lastToken = tokens[tokens.length - 1];\n            lastToken.raw += '\\n' + token.raw;\n            lastToken.text += '\\n' + token.text;\n          }\n\n          continue;\n        }\n\n        if (src) {\n          var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n\n          if (this.options.silent) {\n            console.error(errMsg);\n            break;\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n      }\n\n      return tokens;\n    };\n\n    _proto.inline = function inline(tokens) {\n      var i, j, k, l2, row, token;\n      var l = tokens.length;\n\n      for (i = 0; i < l; i++) {\n        token = tokens[i];\n\n        switch (token.type) {\n          case 'paragraph':\n          case 'text':\n          case 'heading':\n            {\n              token.tokens = [];\n              this.inlineTokens(token.text, token.tokens);\n              break;\n            }\n\n          case 'table':\n            {\n              token.tokens = {\n                header: [],\n                cells: []\n              }; // header\n\n              l2 = token.header.length;\n\n              for (j = 0; j < l2; j++) {\n                token.tokens.header[j] = [];\n                this.inlineTokens(token.header[j], token.tokens.header[j]);\n              } // cells\n\n\n              l2 = token.cells.length;\n\n              for (j = 0; j < l2; j++) {\n                row = token.cells[j];\n                token.tokens.cells[j] = [];\n\n                for (k = 0; k < row.length; k++) {\n                  token.tokens.cells[j][k] = [];\n                  this.inlineTokens(row[k], token.tokens.cells[j][k]);\n                }\n              }\n\n              break;\n            }\n\n          case 'blockquote':\n            {\n              this.inline(token.tokens);\n              break;\n            }\n\n          case 'list':\n            {\n              l2 = token.items.length;\n\n              for (j = 0; j < l2; j++) {\n                this.inline(token.items[j].tokens);\n              }\n\n              break;\n            }\n        }\n      }\n\n      return tokens;\n    }\n    /**\n     * Lexing/Compiling\n     */\n    ;\n\n    _proto.inlineTokens = function inlineTokens(src, tokens, inLink, inRawBlock) {\n      if (tokens === void 0) {\n        tokens = [];\n      }\n\n      if (inLink === void 0) {\n        inLink = false;\n      }\n\n      if (inRawBlock === void 0) {\n        inRawBlock = false;\n      }\n\n      var token; // String with links masked to avoid interference with em and strong\n\n      var maskedSrc = src;\n      var match;\n      var keepPrevChar, prevChar; // Mask out reflinks\n\n      if (this.tokens.links) {\n        var links = Object.keys(this.tokens.links);\n\n        if (links.length > 0) {\n          while ((match = this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc)) != null) {\n            if (links.includes(match[0].slice(match[0].lastIndexOf('[') + 1, -1))) {\n              maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString$1('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex);\n            }\n          }\n        }\n      } // Mask out other blocks\n\n\n      while ((match = this.tokenizer.rules.inline.blockSkip.exec(maskedSrc)) != null) {\n        maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString$1('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);\n      }\n\n      while (src) {\n        if (!keepPrevChar) {\n          prevChar = '';\n        }\n\n        keepPrevChar = false; // escape\n\n        if (token = this.tokenizer.escape(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // tag\n\n\n        if (token = this.tokenizer.tag(src, inLink, inRawBlock)) {\n          src = src.substring(token.raw.length);\n          inLink = token.inLink;\n          inRawBlock = token.inRawBlock;\n          tokens.push(token);\n          continue;\n        } // link\n\n\n        if (token = this.tokenizer.link(src)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type === 'link') {\n            token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);\n          }\n\n          tokens.push(token);\n          continue;\n        } // reflink, nolink\n\n\n        if (token = this.tokenizer.reflink(src, this.tokens.links)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type === 'link') {\n            token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);\n          }\n\n          tokens.push(token);\n          continue;\n        } // strong\n\n\n        if (token = this.tokenizer.strong(src, maskedSrc, prevChar)) {\n          src = src.substring(token.raw.length);\n          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n          tokens.push(token);\n          continue;\n        } // em\n\n\n        if (token = this.tokenizer.em(src, maskedSrc, prevChar)) {\n          src = src.substring(token.raw.length);\n          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n          tokens.push(token);\n          continue;\n        } // code\n\n\n        if (token = this.tokenizer.codespan(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // br\n\n\n        if (token = this.tokenizer.br(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // del (gfm)\n\n\n        if (token = this.tokenizer.del(src)) {\n          src = src.substring(token.raw.length);\n          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n          tokens.push(token);\n          continue;\n        } // autolink\n\n\n        if (token = this.tokenizer.autolink(src, mangle)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // url (gfm)\n\n\n        if (!inLink && (token = this.tokenizer.url(src, mangle))) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // text\n\n\n        if (token = this.tokenizer.inlineText(src, inRawBlock, smartypants)) {\n          src = src.substring(token.raw.length);\n          prevChar = token.raw.slice(-1);\n          keepPrevChar = true;\n          tokens.push(token);\n          continue;\n        }\n\n        if (src) {\n          var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n\n          if (this.options.silent) {\n            console.error(errMsg);\n            break;\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n      }\n\n      return tokens;\n    };\n\n    _createClass(Lexer, null, [{\n      key: \"rules\",\n      get: function get() {\n        return {\n          block: block$1,\n          inline: inline$1\n        };\n      }\n    }]);\n\n    return Lexer;\n  }();\n\n  var defaults$3 = defaults.defaults;\n  var cleanUrl$1 = helpers.cleanUrl,\n      escape$1 = helpers.escape;\n  /**\n   * Renderer\n   */\n\n  var Renderer_1 = /*#__PURE__*/function () {\n    function Renderer(options) {\n      this.options = options || defaults$3;\n    }\n\n    var _proto = Renderer.prototype;\n\n    _proto.code = function code(_code, infostring, escaped) {\n      var lang = (infostring || '').match(/\\S*/)[0];\n\n      if (this.options.highlight) {\n        var out = this.options.highlight(_code, lang);\n\n        if (out != null && out !== _code) {\n          escaped = true;\n          _code = out;\n        }\n      }\n\n      _code = _code.replace(/\\n$/, '') + '\\n';\n\n      if (!lang) {\n        return '<pre><code>' + (escaped ? _code : escape$1(_code, true)) + '</code></pre>\\n';\n      }\n\n      return '<pre><code class=\"' + this.options.langPrefix + escape$1(lang, true) + '\">' + (escaped ? _code : escape$1(_code, true)) + '</code></pre>\\n';\n    };\n\n    _proto.blockquote = function blockquote(quote) {\n      return '<blockquote>\\n' + quote + '</blockquote>\\n';\n    };\n\n    _proto.html = function html(_html) {\n      return _html;\n    };\n\n    _proto.heading = function heading(text, level, raw, slugger) {\n      if (this.options.headerIds) {\n        return '<h' + level + ' id=\"' + this.options.headerPrefix + slugger.slug(raw) + '\">' + text + '</h' + level + '>\\n';\n      } // ignore IDs\n\n\n      return '<h' + level + '>' + text + '</h' + level + '>\\n';\n    };\n\n    _proto.hr = function hr() {\n      return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n    };\n\n    _proto.list = function list(body, ordered, start) {\n      var type = ordered ? 'ol' : 'ul',\n          startatt = ordered && start !== 1 ? ' start=\"' + start + '\"' : '';\n      return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n    };\n\n    _proto.listitem = function listitem(text) {\n      return '<li>' + text + '</li>\\n';\n    };\n\n    _proto.checkbox = function checkbox(checked) {\n      return '<input ' + (checked ? 'checked=\"\" ' : '') + 'disabled=\"\" type=\"checkbox\"' + (this.options.xhtml ? ' /' : '') + '> ';\n    };\n\n    _proto.paragraph = function paragraph(text) {\n      return '<p>' + text + '</p>\\n';\n    };\n\n    _proto.table = function table(header, body) {\n      if (body) body = '<tbody>' + body + '</tbody>';\n      return '<table>\\n' + '<thead>\\n' + header + '</thead>\\n' + body + '</table>\\n';\n    };\n\n    _proto.tablerow = function tablerow(content) {\n      return '<tr>\\n' + content + '</tr>\\n';\n    };\n\n    _proto.tablecell = function tablecell(content, flags) {\n      var type = flags.header ? 'th' : 'td';\n      var tag = flags.align ? '<' + type + ' align=\"' + flags.align + '\">' : '<' + type + '>';\n      return tag + content + '</' + type + '>\\n';\n    } // span level renderer\n    ;\n\n    _proto.strong = function strong(text) {\n      return '<strong>' + text + '</strong>';\n    };\n\n    _proto.em = function em(text) {\n      return '<em>' + text + '</em>';\n    };\n\n    _proto.codespan = function codespan(text) {\n      return '<code>' + text + '</code>';\n    };\n\n    _proto.br = function br() {\n      return this.options.xhtml ? '<br/>' : '<br>';\n    };\n\n    _proto.del = function del(text) {\n      return '<del>' + text + '</del>';\n    };\n\n    _proto.link = function link(href, title, text) {\n      href = cleanUrl$1(this.options.sanitize, this.options.baseUrl, href);\n\n      if (href === null) {\n        return text;\n      }\n\n      var out = '<a href=\"' + escape$1(href) + '\"';\n\n      if (title) {\n        out += ' title=\"' + title + '\"';\n      }\n\n      out += '>' + text + '</a>';\n      return out;\n    };\n\n    _proto.image = function image(href, title, text) {\n      href = cleanUrl$1(this.options.sanitize, this.options.baseUrl, href);\n\n      if (href === null) {\n        return text;\n      }\n\n      var out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n\n      if (title) {\n        out += ' title=\"' + title + '\"';\n      }\n\n      out += this.options.xhtml ? '/>' : '>';\n      return out;\n    };\n\n    _proto.text = function text(_text) {\n      return _text;\n    };\n\n    return Renderer;\n  }();\n\n  /**\n   * TextRenderer\n   * returns only the textual part of the token\n   */\n  var TextRenderer_1 = /*#__PURE__*/function () {\n    function TextRenderer() {}\n\n    var _proto = TextRenderer.prototype;\n\n    // no need for block level renderers\n    _proto.strong = function strong(text) {\n      return text;\n    };\n\n    _proto.em = function em(text) {\n      return text;\n    };\n\n    _proto.codespan = function codespan(text) {\n      return text;\n    };\n\n    _proto.del = function del(text) {\n      return text;\n    };\n\n    _proto.html = function html(text) {\n      return text;\n    };\n\n    _proto.text = function text(_text) {\n      return _text;\n    };\n\n    _proto.link = function link(href, title, text) {\n      return '' + text;\n    };\n\n    _proto.image = function image(href, title, text) {\n      return '' + text;\n    };\n\n    _proto.br = function br() {\n      return '';\n    };\n\n    return TextRenderer;\n  }();\n\n  /**\n   * Slugger generates header id\n   */\n  var Slugger_1 = /*#__PURE__*/function () {\n    function Slugger() {\n      this.seen = {};\n    }\n\n    var _proto = Slugger.prototype;\n\n    _proto.serialize = function serialize(value) {\n      return value.toLowerCase().trim() // remove html tags\n      .replace(/<[!\\/a-z].*?>/ig, '') // remove unwanted chars\n      .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '').replace(/\\s/g, '-');\n    }\n    /**\n     * Finds the next safe (unique) slug to use\n     */\n    ;\n\n    _proto.getNextSafeSlug = function getNextSafeSlug(originalSlug, isDryRun) {\n      var slug = originalSlug;\n      var occurenceAccumulator = 0;\n\n      if (this.seen.hasOwnProperty(slug)) {\n        occurenceAccumulator = this.seen[originalSlug];\n\n        do {\n          occurenceAccumulator++;\n          slug = originalSlug + '-' + occurenceAccumulator;\n        } while (this.seen.hasOwnProperty(slug));\n      }\n\n      if (!isDryRun) {\n        this.seen[originalSlug] = occurenceAccumulator;\n        this.seen[slug] = 0;\n      }\n\n      return slug;\n    }\n    /**\n     * Convert string to unique id\n     * @param {object} options\n     * @param {boolean} options.dryrun Generates the next unique slug without updating the internal accumulator.\n     */\n    ;\n\n    _proto.slug = function slug(value, options) {\n      if (options === void 0) {\n        options = {};\n      }\n\n      var slug = this.serialize(value);\n      return this.getNextSafeSlug(slug, options.dryrun);\n    };\n\n    return Slugger;\n  }();\n\n  var defaults$4 = defaults.defaults;\n  var unescape$1 = helpers.unescape;\n  /**\n   * Parsing & Compiling\n   */\n\n  var Parser_1 = /*#__PURE__*/function () {\n    function Parser(options) {\n      this.options = options || defaults$4;\n      this.options.renderer = this.options.renderer || new Renderer_1();\n      this.renderer = this.options.renderer;\n      this.renderer.options = this.options;\n      this.textRenderer = new TextRenderer_1();\n      this.slugger = new Slugger_1();\n    }\n    /**\n     * Static Parse Method\n     */\n\n\n    Parser.parse = function parse(tokens, options) {\n      var parser = new Parser(options);\n      return parser.parse(tokens);\n    }\n    /**\n     * Static Parse Inline Method\n     */\n    ;\n\n    Parser.parseInline = function parseInline(tokens, options) {\n      var parser = new Parser(options);\n      return parser.parseInline(tokens);\n    }\n    /**\n     * Parse Loop\n     */\n    ;\n\n    var _proto = Parser.prototype;\n\n    _proto.parse = function parse(tokens, top) {\n      if (top === void 0) {\n        top = true;\n      }\n\n      var out = '',\n          i,\n          j,\n          k,\n          l2,\n          l3,\n          row,\n          cell,\n          header,\n          body,\n          token,\n          ordered,\n          start,\n          loose,\n          itemBody,\n          item,\n          checked,\n          task,\n          checkbox;\n      var l = tokens.length;\n\n      for (i = 0; i < l; i++) {\n        token = tokens[i];\n\n        switch (token.type) {\n          case 'space':\n            {\n              continue;\n            }\n\n          case 'hr':\n            {\n              out += this.renderer.hr();\n              continue;\n            }\n\n          case 'heading':\n            {\n              out += this.renderer.heading(this.parseInline(token.tokens), token.depth, unescape$1(this.parseInline(token.tokens, this.textRenderer)), this.slugger);\n              continue;\n            }\n\n          case 'code':\n            {\n              out += this.renderer.code(token.text, token.lang, token.escaped);\n              continue;\n            }\n\n          case 'table':\n            {\n              header = ''; // header\n\n              cell = '';\n              l2 = token.header.length;\n\n              for (j = 0; j < l2; j++) {\n                cell += this.renderer.tablecell(this.parseInline(token.tokens.header[j]), {\n                  header: true,\n                  align: token.align[j]\n                });\n              }\n\n              header += this.renderer.tablerow(cell);\n              body = '';\n              l2 = token.cells.length;\n\n              for (j = 0; j < l2; j++) {\n                row = token.tokens.cells[j];\n                cell = '';\n                l3 = row.length;\n\n                for (k = 0; k < l3; k++) {\n                  cell += this.renderer.tablecell(this.parseInline(row[k]), {\n                    header: false,\n                    align: token.align[k]\n                  });\n                }\n\n                body += this.renderer.tablerow(cell);\n              }\n\n              out += this.renderer.table(header, body);\n              continue;\n            }\n\n          case 'blockquote':\n            {\n              body = this.parse(token.tokens);\n              out += this.renderer.blockquote(body);\n              continue;\n            }\n\n          case 'list':\n            {\n              ordered = token.ordered;\n              start = token.start;\n              loose = token.loose;\n              l2 = token.items.length;\n              body = '';\n\n              for (j = 0; j < l2; j++) {\n                item = token.items[j];\n                checked = item.checked;\n                task = item.task;\n                itemBody = '';\n\n                if (item.task) {\n                  checkbox = this.renderer.checkbox(checked);\n\n                  if (loose) {\n                    if (item.tokens.length > 0 && item.tokens[0].type === 'text') {\n                      item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;\n\n                      if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {\n                        item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;\n                      }\n                    } else {\n                      item.tokens.unshift({\n                        type: 'text',\n                        text: checkbox\n                      });\n                    }\n                  } else {\n                    itemBody += checkbox;\n                  }\n                }\n\n                itemBody += this.parse(item.tokens, loose);\n                body += this.renderer.listitem(itemBody, task, checked);\n              }\n\n              out += this.renderer.list(body, ordered, start);\n              continue;\n            }\n\n          case 'html':\n            {\n              // TODO parse inline content if parameter markdown=1\n              out += this.renderer.html(token.text);\n              continue;\n            }\n\n          case 'paragraph':\n            {\n              out += this.renderer.paragraph(this.parseInline(token.tokens));\n              continue;\n            }\n\n          case 'text':\n            {\n              body = token.tokens ? this.parseInline(token.tokens) : token.text;\n\n              while (i + 1 < l && tokens[i + 1].type === 'text') {\n                token = tokens[++i];\n                body += '\\n' + (token.tokens ? this.parseInline(token.tokens) : token.text);\n              }\n\n              out += top ? this.renderer.paragraph(body) : body;\n              continue;\n            }\n\n          default:\n            {\n              var errMsg = 'Token with \"' + token.type + '\" type was not found.';\n\n              if (this.options.silent) {\n                console.error(errMsg);\n                return;\n              } else {\n                throw new Error(errMsg);\n              }\n            }\n        }\n      }\n\n      return out;\n    }\n    /**\n     * Parse Inline Tokens\n     */\n    ;\n\n    _proto.parseInline = function parseInline(tokens, renderer) {\n      renderer = renderer || this.renderer;\n      var out = '',\n          i,\n          token;\n      var l = tokens.length;\n\n      for (i = 0; i < l; i++) {\n        token = tokens[i];\n\n        switch (token.type) {\n          case 'escape':\n            {\n              out += renderer.text(token.text);\n              break;\n            }\n\n          case 'html':\n            {\n              out += renderer.html(token.text);\n              break;\n            }\n\n          case 'link':\n            {\n              out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'image':\n            {\n              out += renderer.image(token.href, token.title, token.text);\n              break;\n            }\n\n          case 'strong':\n            {\n              out += renderer.strong(this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'em':\n            {\n              out += renderer.em(this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'codespan':\n            {\n              out += renderer.codespan(token.text);\n              break;\n            }\n\n          case 'br':\n            {\n              out += renderer.br();\n              break;\n            }\n\n          case 'del':\n            {\n              out += renderer.del(this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'text':\n            {\n              out += renderer.text(token.text);\n              break;\n            }\n\n          default:\n            {\n              var errMsg = 'Token with \"' + token.type + '\" type was not found.';\n\n              if (this.options.silent) {\n                console.error(errMsg);\n                return;\n              } else {\n                throw new Error(errMsg);\n              }\n            }\n        }\n      }\n\n      return out;\n    };\n\n    return Parser;\n  }();\n\n  var merge$2 = helpers.merge,\n      checkSanitizeDeprecation$1 = helpers.checkSanitizeDeprecation,\n      escape$2 = helpers.escape;\n  var getDefaults = defaults.getDefaults,\n      changeDefaults = defaults.changeDefaults,\n      defaults$5 = defaults.defaults;\n  /**\n   * Marked\n   */\n\n  function marked(src, opt, callback) {\n    // throw error in case of non string input\n    if (typeof src === 'undefined' || src === null) {\n      throw new Error('marked(): input parameter is undefined or null');\n    }\n\n    if (typeof src !== 'string') {\n      throw new Error('marked(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');\n    }\n\n    if (typeof opt === 'function') {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge$2({}, marked.defaults, opt || {});\n    checkSanitizeDeprecation$1(opt);\n\n    if (callback) {\n      var highlight = opt.highlight;\n      var tokens;\n\n      try {\n        tokens = Lexer_1.lex(src, opt);\n      } catch (e) {\n        return callback(e);\n      }\n\n      var done = function done(err) {\n        var out;\n\n        if (!err) {\n          try {\n            out = Parser_1.parse(tokens, opt);\n          } catch (e) {\n            err = e;\n          }\n        }\n\n        opt.highlight = highlight;\n        return err ? callback(err) : callback(null, out);\n      };\n\n      if (!highlight || highlight.length < 3) {\n        return done();\n      }\n\n      delete opt.highlight;\n      if (!tokens.length) return done();\n      var pending = 0;\n      marked.walkTokens(tokens, function (token) {\n        if (token.type === 'code') {\n          pending++;\n          setTimeout(function () {\n            highlight(token.text, token.lang, function (err, code) {\n              if (err) {\n                return done(err);\n              }\n\n              if (code != null && code !== token.text) {\n                token.text = code;\n                token.escaped = true;\n              }\n\n              pending--;\n\n              if (pending === 0) {\n                done();\n              }\n            });\n          }, 0);\n        }\n      });\n\n      if (pending === 0) {\n        done();\n      }\n\n      return;\n    }\n\n    try {\n      var _tokens = Lexer_1.lex(src, opt);\n\n      if (opt.walkTokens) {\n        marked.walkTokens(_tokens, opt.walkTokens);\n      }\n\n      return Parser_1.parse(_tokens, opt);\n    } catch (e) {\n      e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n\n      if (opt.silent) {\n        return '<p>An error occurred:</p><pre>' + escape$2(e.message + '', true) + '</pre>';\n      }\n\n      throw e;\n    }\n  }\n  /**\n   * Options\n   */\n\n\n  marked.options = marked.setOptions = function (opt) {\n    merge$2(marked.defaults, opt);\n    changeDefaults(marked.defaults);\n    return marked;\n  };\n\n  marked.getDefaults = getDefaults;\n  marked.defaults = defaults$5;\n  /**\n   * Use Extension\n   */\n\n  marked.use = function (extension) {\n    var opts = merge$2({}, extension);\n\n    if (extension.renderer) {\n      (function () {\n        var renderer = marked.defaults.renderer || new Renderer_1();\n\n        var _loop = function _loop(prop) {\n          var prevRenderer = renderer[prop];\n\n          renderer[prop] = function () {\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n\n            var ret = extension.renderer[prop].apply(renderer, args);\n\n            if (ret === false) {\n              ret = prevRenderer.apply(renderer, args);\n            }\n\n            return ret;\n          };\n        };\n\n        for (var prop in extension.renderer) {\n          _loop(prop);\n        }\n\n        opts.renderer = renderer;\n      })();\n    }\n\n    if (extension.tokenizer) {\n      (function () {\n        var tokenizer = marked.defaults.tokenizer || new Tokenizer_1();\n\n        var _loop2 = function _loop2(prop) {\n          var prevTokenizer = tokenizer[prop];\n\n          tokenizer[prop] = function () {\n            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n              args[_key2] = arguments[_key2];\n            }\n\n            var ret = extension.tokenizer[prop].apply(tokenizer, args);\n\n            if (ret === false) {\n              ret = prevTokenizer.apply(tokenizer, args);\n            }\n\n            return ret;\n          };\n        };\n\n        for (var prop in extension.tokenizer) {\n          _loop2(prop);\n        }\n\n        opts.tokenizer = tokenizer;\n      })();\n    }\n\n    if (extension.walkTokens) {\n      var walkTokens = marked.defaults.walkTokens;\n\n      opts.walkTokens = function (token) {\n        extension.walkTokens(token);\n\n        if (walkTokens) {\n          walkTokens(token);\n        }\n      };\n    }\n\n    marked.setOptions(opts);\n  };\n  /**\n   * Run callback for every token\n   */\n\n\n  marked.walkTokens = function (tokens, callback) {\n    for (var _iterator = _createForOfIteratorHelperLoose(tokens), _step; !(_step = _iterator()).done;) {\n      var token = _step.value;\n      callback(token);\n\n      switch (token.type) {\n        case 'table':\n          {\n            for (var _iterator2 = _createForOfIteratorHelperLoose(token.tokens.header), _step2; !(_step2 = _iterator2()).done;) {\n              var cell = _step2.value;\n              marked.walkTokens(cell, callback);\n            }\n\n            for (var _iterator3 = _createForOfIteratorHelperLoose(token.tokens.cells), _step3; !(_step3 = _iterator3()).done;) {\n              var row = _step3.value;\n\n              for (var _iterator4 = _createForOfIteratorHelperLoose(row), _step4; !(_step4 = _iterator4()).done;) {\n                var _cell = _step4.value;\n                marked.walkTokens(_cell, callback);\n              }\n            }\n\n            break;\n          }\n\n        case 'list':\n          {\n            marked.walkTokens(token.items, callback);\n            break;\n          }\n\n        default:\n          {\n            if (token.tokens) {\n              marked.walkTokens(token.tokens, callback);\n            }\n          }\n      }\n    }\n  };\n  /**\n   * Parse Inline\n   */\n\n\n  marked.parseInline = function (src, opt) {\n    // throw error in case of non string input\n    if (typeof src === 'undefined' || src === null) {\n      throw new Error('marked.parseInline(): input parameter is undefined or null');\n    }\n\n    if (typeof src !== 'string') {\n      throw new Error('marked.parseInline(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');\n    }\n\n    opt = merge$2({}, marked.defaults, opt || {});\n    checkSanitizeDeprecation$1(opt);\n\n    try {\n      var tokens = Lexer_1.lexInline(src, opt);\n\n      if (opt.walkTokens) {\n        marked.walkTokens(tokens, opt.walkTokens);\n      }\n\n      return Parser_1.parseInline(tokens, opt);\n    } catch (e) {\n      e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n\n      if (opt.silent) {\n        return '<p>An error occurred:</p><pre>' + escape$2(e.message + '', true) + '</pre>';\n      }\n\n      throw e;\n    }\n  };\n  /**\n   * Expose\n   */\n\n\n  marked.Parser = Parser_1;\n  marked.parser = Parser_1.parse;\n  marked.Renderer = Renderer_1;\n  marked.TextRenderer = TextRenderer_1;\n  marked.Lexer = Lexer_1;\n  marked.lexer = Lexer_1.lex;\n  marked.Tokenizer = Tokenizer_1;\n  marked.Slugger = Slugger_1;\n  marked.parse = marked;\n  var marked_1 = marked;\n\n  return marked_1;\n\n})));\n","import {Command, Session} from \"../session\";\n\n\nexport interface CommandHandler {\n    accept_command: string[],\n\n    handle_message(msg: Command): void\n}\n\nexport class SessionCtrlHandler implements CommandHandler {\n    accept_command: string[] = ['close_session', 'set_session_id'];\n\n    constructor(readonly session: Session) {\n    }\n\n    handle_message(msg: Command) {\n        if (msg.command == 'close_session')\n            this.session.close_session();\n        else if (msg.command == 'set_session_id')\n            this.session.webio_session_id = msg.spec;\n    }\n}\n\nexport class CommandDispatcher {\n    command2handler: { [cmd: string]: CommandHandler } = {};\n\n    constructor(...handlers: CommandHandler[]) {\n        for (let h of handlers) {\n            for (let cmd of h.accept_command) {\n                if (cmd in this.command2handler)\n                    throw  new Error(`Conflict command handler: both ${this.command2handler[cmd]} and ${h} accepts '${cmd}' command`);\n                this.command2handler[cmd] = h;\n            }\n        }\n    }\n\n    dispatch_message(msg: Command): boolean {\n        if (msg.command in this.command2handler) {\n            this.command2handler[msg.command].handle_message(msg);\n            return true;\n        }\n        return false\n    }\n}","import {Command} from \"../session\";\nimport {CommandHandler} from \"./base\";\nimport {b64toBlob} from \"../utils\";\n\nexport class DownloadHandler implements CommandHandler {\n    accept_command: string[] = ['download'];\n\n    constructor() {\n    }\n\n    handle_message(msg: Command) {\n        let blob = b64toBlob(msg.spec.content);\n        saveAs(blob, msg.spec.name, {}, false);\n    }\n}","import {Command, HttpSession} from \"../session\";\nimport {CommandHandler} from \"./base\";\nimport {config, state} from \"../state\";\n\nexport class EnvSettingHandler implements CommandHandler {\n    accept_command: string[] = ['set_env'];\n\n    constructor() {\n    }\n\n    handle_message(msg: Command) {\n        let spec = msg.spec;\n        if (spec.title !== undefined) {\n            document.title = spec.title;\n        }\n\n        if (spec.auto_scroll_bottom !== undefined)\n            state.AutoScrollBottom = spec.auto_scroll_bottom;\n\n        if (spec.output_animation !== undefined) {\n            config.outputAnimation = spec.output_animation;\n            if(!spec.output_animation){\n                document.body.classList.add('no-animation');\n            }else{\n                document.body.classList.remove('no-animation');\n            }\n        }\n\n        if (spec.http_pull_interval !== undefined) {\n            if (state.CurrentSession instanceof HttpSession)\n                state.CurrentSession.change_pull_interval(spec.http_pull_interval);\n        }\n\n        if (spec.input_panel_min_height !== undefined) {\n            state.InputPanelMinHeight = spec.input_panel_min_height;\n        }\n\n        if (spec.input_panel_init_height !== undefined) {\n            state.InputPanelInitHeight = spec.input_panel_init_height;\n        }\n\n        if (spec.input_panel_fixed !== undefined) {\n            state.FixedInputPanel = spec.input_panel_fixed;\n        }\n\n        if (spec.input_auto_focus !== undefined) {\n            state.AutoFocusOnInput = spec.input_auto_focus;\n        }\n\n        if (spec.output_max_width !== undefined) {\n            $('#output-container').css('max-width', spec.output_max_width);\n        }\n    }\n}","import {Command, Session} from \"../session\";\nimport {error_alert, LRUMap, make_set, serialize_json, serialize_file} from \"../utils\";\nimport {InputItem} from \"../models/input/base\"\nimport {state} from '../state'\nimport {all_input_items} from \"../models/input\"\nimport {CommandHandler} from \"./base\"\nimport {close_input, show_input} from \"../ui\";\nimport {t} from \"../i18n\";\n\n/*\n* 整个输入区域的控制类\n* 管理当前活跃和非活跃的表单\n* */\nexport class InputHandler implements CommandHandler {\n    accept_command: string[] = ['input', 'input_group', 'update_input', 'destroy_form'];\n\n    session: Session;\n    private form_ctrls: LRUMap; // task_id -> stack of FormGroupController\n    private readonly container_elem: JQuery;\n\n    constructor(session: Session, container_elem: JQuery) {\n        this.session = session;\n        this.container_elem = container_elem;\n        this.form_ctrls = new LRUMap(); // task_id -> stack of FormGroupController\n    }\n\n    private _after_show_form() {\n        // 解决表单显示后动态添加内容，表单宽高不变的问题\n        setTimeout(() => {\n            let curr_card = $('#input-cards > .card')[0];\n            curr_card.style.height = \"unset\";\n            curr_card.style.width = \"unset\";\n        }, 50);\n\n        show_input();\n\n        let old_ctrls = this.form_ctrls.get_top();\n        if (old_ctrls)\n            old_ctrls[old_ctrls.length - 1].after_show();\n\n        if (state.AutoFocusOnInput)\n            $('[auto_focus=\"true\"]').focus();\n    };\n\n    // hide old_ctrls显示的表单，激活 task_id 对应的表单\n    // 需要保证 task_id 对应有表单\n    private _activate_form(task_id: string, old_ctrl: InputItem) {\n        let ctrls = this.form_ctrls.get_value(task_id);\n        let ctrl = ctrls[ctrls.length - 1];\n        if (ctrl === old_ctrl || old_ctrl === undefined) {\n            return ctrl.element.show(state.ShowDuration, () => {\n                this._after_show_form()\n            });\n        }\n        this.form_ctrls.move_to_top(task_id);\n        old_ctrl.element.hide(100, () => {\n            // ctrl.element.show(100);\n            // 需要在回调中重新获取当前前置表单元素，因为100ms内可能有变化\n            let t = this.form_ctrls.get_top();\n            if (t) t[t.length - 1].element.show(state.ShowDuration, () => {\n                this._after_show_form()\n            });\n        });\n    };\n\n\n    /*\n    * 每次函数调用返回后，this.form_ctrls.get_top()的栈顶对应的表单为当前活跃表单\n    * */\n    handle_message(msg: Command) {\n        let old_ctrls = this.form_ctrls.get_top();\n        let old_ctrl = old_ctrls && old_ctrls[old_ctrls.length - 1];\n        let target_ctrls = this.form_ctrls.get_value(msg.task_id);\n        if (target_ctrls === undefined) {\n            this.form_ctrls.push(msg.task_id, []);\n            target_ctrls = this.form_ctrls.get_value(msg.task_id);\n        }\n\n        // 创建表单\n        if (msg.command in make_set(['input', 'input_group'])) {\n            let ctrl = new FormController(this.session, msg.task_id, msg.spec);\n            target_ctrls.push(ctrl);\n            this.container_elem.append(ctrl.create_element());\n            ctrl.after_add_to_dom();\n            this._activate_form(msg.task_id, old_ctrl);\n        } else if (msg.command in make_set(['update_input'])) {\n            // 更新表单\n            if (target_ctrls.length === 0) {\n                return console.error('No form to current message. task_id:%s', msg.task_id);\n            }\n            target_ctrls[target_ctrls.length - 1].dispatch_ctrl_message(msg.spec);\n            // 表单前置 removed\n            // this._activate_form(msg.task_id, old_ctrl);\n        } else if (msg.command === 'destroy_form') {\n            if (target_ctrls.length === 0) {\n                return console.error('No form to current message. task_id:%s', msg.task_id);\n            }\n            let deleted = target_ctrls.pop() as FormController;\n            if (target_ctrls.length === 0)\n                this.form_ctrls.remove(msg.task_id);\n\n            // 销毁的是当前显示的form\n            if (old_ctrls === target_ctrls) {\n                deleted.element.hide(100, () => {\n                    deleted.element.remove();\n                    close_input();\n\n                    let t = this.form_ctrls.get_top();\n                    if (t) t[t.length - 1].element.show(state.ShowDuration, () => {\n                        this._after_show_form()\n                    });\n                });\n            } else {\n                deleted.element.remove();\n                close_input();\n            }\n        }\n    }\n}\n\n\n/*\n* 表单控制器\n* */\nclass FormController {\n    static input_items: { [input_type: string]: typeof InputItem } = {};\n\n    session: Session;\n\n    element: JQuery = null;\n\n    private task_id: string;\n    private spec: any;\n    // name -> input_controller\n    private name2input: { [i: string]: InputItem } = {};\n    private show_count: number = 0;\n\n    public static register_inputitem(cls: typeof InputItem) {\n        for (let type of cls.accept_input_types) {\n            if (type in this.input_items)\n                throw new Error(`duplicated accept_input_types:[${type}] in ${cls} and ${this.input_items[type]}`);\n            this.input_items[type] = cls;\n        }\n    }\n\n    constructor(session: Session, task_id: string, spec: any) {\n        this.session = session;\n        this.task_id = task_id;\n        this.spec = spec;\n\n        // this.create_element();\n    }\n\n\n    create_element(): JQuery {\n        let tpl = `\n            <div class=\"card\" style=\"display: none\">\n                <h5 class=\"card-header\">{{label}}</h5>\n                <div class=\"card-body\">\n                    <form>\n                        <div class=\"input-container\"></div>\n                        <div class=\"ws-form-submit-btns\">\n                            <button type=\"submit\" class=\"btn btn-primary\">${t(\"submit\")}</button>\n                            <button type=\"reset\" class=\"btn btn-warning\">${t(\"reset\")}</button>\n                            {{#cancelable}}<button type=\"button\" class=\"pywebio_cancel_btn btn btn-danger\">${t(\"cancel\")}</button>{{/cancelable}}\n                        </div>\n                    </form>\n                </div>\n            </div>`;\n        let that = this;\n\n        const html = Mustache.render(tpl, {label: this.spec.label, cancelable: this.spec.cancelable});\n        let element = $(html);\n\n        element.find('.pywebio_cancel_btn').on('click', function (e) {\n            element.find('button').prop(\"disabled\", true);\n            that.session.send_message({\n                event: \"from_cancel\",\n                task_id: that.task_id,\n                data: null\n            });\n        });\n\n        // 隐藏默认的\"提交\"/\"重置\"按钮\n        if (this.spec.inputs.length && this.spec.inputs[this.spec.inputs.length - 1].type === 'actions') {\n            for (let btn of this.spec.inputs[this.spec.inputs.length - 1].buttons) {\n                if (btn.type === 'submit') {\n                    element.find('.ws-form-submit-btns').hide();\n                    break;\n                }\n            }\n        }\n\n        // 输入控件创建\n        let body = element.find('.input-container');\n        for (let idx in this.spec.inputs) {\n            let input_spec = this.spec.inputs[idx];\n            if (!(input_spec.type in FormController.input_items))\n                throw new Error(`Unknown input type '${input_spec.type}'`);\n            let item_class = FormController.input_items[input_spec.type];\n            let item = new item_class(input_spec, this.task_id, (event, input_item) => {\n                this.session.send_message({\n                    event: \"input_event\",\n                    task_id: this.task_id,\n                    data: {\n                        event_name: event,\n                        name: input_spec.name,\n                        value: input_item.get_value()\n                    }\n                });\n            });\n            this.name2input[input_spec.name] = item;\n\n            body.append(item.create_element());\n        }\n\n        element.on('reset', 'form', function (e) {\n            for (let name in that.name2input) {\n                that.name2input[name].on_reset(e);\n            }\n        });\n\n        // submit event\n        element.on('submit', 'form', function (e) {\n            e.preventDefault(); // avoid to execute the actual submit of the form.\n\n            element.find('button').prop(\"disabled\", true);\n\n            for (let name in that.name2input) {\n                if (!that.name2input[name].check_valid()) {\n                    element.find('button').prop(\"disabled\", false);\n                    return error_alert(t(\"error_in_input\"));\n                }\n            }\n\n\n            let input_names: string[] = [];\n            let input_values: any[] = [];\n            $.each(that.name2input, (name, ctrl) => {\n                input_names.push(name as string);\n                input_values.push(ctrl.get_value());\n            });\n\n            let on_process = (loaded: number, total: number) => {\n            };\n            // show process bar when there is a file input field\n            for (let item of that.spec.inputs) {\n                if (item.type == 'file') {\n                    on_process = that.make_progress();\n                    break;\n                }\n            }\n            Promise.all(input_values).then((values) => {\n                let input_data: { [i: string]: any } = {};\n                let files: Blob[] = [];\n                for (let idx in input_names) {\n                    let name = input_names[idx], value = values[idx];\n                    input_data[name] = value;\n                    if (that.spec.inputs[idx].type == 'file') {\n                        input_data[name] = value.multiple ? [] : null;\n                        value.files.forEach((file: File) => {\n                            files.push(serialize_file(file, name))\n                        });\n                    }\n                }\n                let msg = {\n                    event: \"from_submit\",\n                    task_id: that.task_id,\n                    data: input_data\n                };\n                if (files.length) {\n                    // see also: `py:pywebio.platform.utils.deserialize_binary_event()`\n                    that.session.send_buffer(new Blob([serialize_json(msg), ...files], {type: 'application/octet-stream'}), on_process);\n                } else {\n                    that.session.send_message(msg, on_process);\n                }\n            });\n\n        });\n\n        this.element = element;\n        return element;\n    };\n\n    // 显示提交进度条，返回进度更新函数\n    make_progress() {\n        let html = `<div class=\"progress\" style=\"margin-top: 4px;\">\n                        <div class=\"progress-bar bg-info progress-bar-striped progress-bar-animated\" role=\"progressbar\"\n                             style=\"width: 0%;\" aria-valuenow=\"0\" aria-valuemin=\"0\" aria-valuemax=\"100\">0%\n                        </div>\n                    </div>`;\n        let elem = $(html);\n        this.element.find('.card-body').append(elem);\n\n        let bar = elem.find('.progress-bar');\n        return function (loaded: number, total: number) {\n            let progress = \"\" + (100.0 * loaded / total).toFixed(1);\n            bar[0].style.width = progress + \"%\";\n            bar.attr(\"aria-valuenow\", progress);\n            bar.text(progress + \"%\");\n        }\n    };\n\n    dispatch_ctrl_message(spec: any) {\n        // 恢复原本可点击的按钮\n        this.element.find('button:not([data-pywebio-disabled])').prop(\"disabled\", false);\n        // 移除上传进度条\n        this.element.find('.progress').remove();\n\n        if (!(spec.target_name in this.name2input)) {\n            return console.error('Can\\'t find input[name=%s] element in curr form!', spec.target_name);\n        }\n\n        this.name2input[spec.target_name].update_input(spec);\n    };\n\n    // 在表单加入DOM树后，触发输入项的on_add_to_dom回调\n    after_add_to_dom() {\n        for (let name in this.name2input) {\n            this.name2input[name].after_add_to_dom();\n        }\n    }\n\n    // 在表单被显示后，触发输入项的after_show回调\n    after_show() {\n        for (let name in this.name2input) {\n            this.name2input[name].after_show(this.show_count === 0);\n        }\n        this.show_count += 1;\n    }\n}\n\nfor (let item of all_input_items)\n    FormController.register_inputitem(item);","import {Command, Session} from \"../session\";\nimport {config, state} from '../state'\nimport {body_scroll_to} from \"../utils\";\n\nimport {getWidgetElement} from \"../models/output\"\nimport {CommandHandler} from \"./base\";\n\nconst DISPLAY_NONE_TAGS = ['script', 'style'];\n\nlet after_show_callbacks: (() => void) [] = [];\n\n// register a callback to execute after the current output widget showing\nexport function AfterCurrentOutputWidgetShow(callback: () => void) {\n    after_show_callbacks.push(callback);\n}\n\nexport function trigger_output_widget_show_event() {\n    for (let cb of after_show_callbacks) {\n        try {\n            cb.call(this);\n        } catch (e) {\n            console.error('Error in callback of pin widget show event.');\n        }\n    }\n    after_show_callbacks = [];\n}\n\nexport class OutputHandler implements CommandHandler {\n    session: Session;\n\n    accept_command = ['output', 'output_ctl'];\n\n    private readonly container_parent: JQuery;\n    private readonly container_elem: JQuery;\n\n    constructor(session: Session, container_elem: JQuery) {\n        this.session = session;\n        this.container_elem = container_elem;\n        this.container_parent = this.container_elem.parent();\n    }\n\n    scroll_bottom() {\n        body_scroll_to($('.pywebio'), 'bottom', null, 15);\n    };\n\n    is_elem_visible(elem: JQuery) {\n        try {\n            return DISPLAY_NONE_TAGS.indexOf(elem[0].tagName.toLowerCase()) == -1;\n        } catch (e) {\n        }\n        return false;\n    }\n\n    handle_message(msg: Command) {\n        let output_to_root = false;\n        if (msg.command === 'output') {\n            let elem;\n            try {\n                elem = getWidgetElement(msg.spec);\n            } catch (e) {\n                return console.error(`Handle command error: \"${e}\"\\nCommand:\\n${JSON.stringify(msg)}`);\n            }\n\n            let container_elem = $(msg.spec.scope);\n\n            if (config.outputAnimation && this.is_elem_visible(elem) && container_elem.length == 1) elem.hide();\n\n            if (container_elem.length === 0)\n                return console.error(`Scope '${msg.spec.scope}' not found`);\n\n            if (!msg.spec.scope || msg.spec.scope === '#pywebio-scope-ROOT') output_to_root = true;\n\n            if (msg.spec.position === 0)\n                container_elem.prepend(elem);\n            else if (msg.spec.position === -1)\n                container_elem.append(elem);\n            else {\n                for (let con of container_elem) {\n                    let pos = $(con.children).eq(msg.spec.position);\n                    if (msg.spec.position >= 0)\n                        elem.insertBefore(pos);\n                    else\n                        elem.insertAfter(pos);\n                }\n            }\n\n            // to avoid widget width exceeding page width\n            // show horizon scroll bar when content too wide\n            if (elem.width() > this.container_elem.width())\n                elem.wrap($(document.createElement('div')).css('overflow', 'auto'));\n\n            if (this.is_elem_visible(elem) && container_elem.length == 1) {  // 输出内容为可见标签且输出目的scope唯一\n                if (config.outputAnimation)\n                    elem.fadeIn({\n                        complete: () => {\n                            // 当设置了AutoScrollBottom、并且当前输出输出到页面末尾时，滚动到底部\n                            if (state.AutoScrollBottom && output_to_root)\n                                this.scroll_bottom();\n                        }\n                    });\n                else if (state.AutoScrollBottom && output_to_root)\n                    this.scroll_bottom();\n            }\n            trigger_output_widget_show_event();\n        } else if (msg.command === 'output_ctl') {\n            this.handle_output_ctl(msg);\n        }\n    };\n\n    handle_output_ctl(msg: Command) {\n        if (msg.spec.set_scope !== undefined) {\n            let spec = msg.spec as {\n                set_scope: string, // scope名\n                container: string, // 此scope的父scope\n                position: number, // 在父scope中创建此scope的位置 0 -> 在父scope的顶部创建, -1 -> 在父scope的尾部创建\n                if_exist: string // 已经存在 ``name`` scope 时如何操作:  `'remove'` 表示先移除旧scope再创建新scope, `'clear'` 表示将旧scope的内容清除，不创建新scope，null/不指定时表示立即返回不进行任何操作\n            };\n\n            let container_elem = $(`${spec.container}`);\n            if (container_elem.length === 0)\n                return console.error(`Scope '${msg.spec.scope}' not found`);\n\n            let old = $(`#${spec.set_scope}`);\n            if (old.length) {\n                if (spec.if_exist == 'remove')\n                    old.remove();\n                else if (spec.if_exist == 'clear') {\n                    old.empty();\n                    return;\n                } else if (spec.if_exist == 'blank') { // Clear the contents of the old scope and keep the height\n                    let scope_css: any = {'min-height': old.height()};\n                    let prev = old.prev(), next = old.next();\n                    if (prev.length)\n                        scope_css['margin-top'] = old[0].getBoundingClientRect().top - prev[0].getBoundingClientRect().bottom;\n                    if (next.length)\n                        scope_css['margin-bottom'] = next[0].getBoundingClientRect().top - old[0].getBoundingClientRect().bottom;\n                    old.css(scope_css);\n                    old.empty();\n                    return;\n                } else {\n                    return;\n                }\n            }\n            let html = `<div id=\"${spec.set_scope}\"></div>`;\n            if (spec.position === 0)\n                container_elem.prepend(html);\n            else if (spec.position === -1)\n                container_elem.append(html);\n            else {\n                if (spec.position >= 0)\n                    $(`${spec.container} > *`).eq(spec.position).insertBefore(html);\n                else\n                    $(`${spec.container} > *`).eq(spec.position).insertAfter(html);\n            }\n        }\n        if (msg.spec.loose !== undefined) { // revoke the effect of ``set_scope(if_exist='blank')``\n            $(msg.spec.loose).css({'min-height': '', 'margin-top': '', 'margin-bottom': ''});\n        }\n        if (msg.spec.clear !== undefined) {\n            $(msg.spec.clear).empty();\n        }\n        if (msg.spec.clear_before !== undefined)\n            $(`${msg.spec.clear_before}`).prevAll().remove();\n        if (msg.spec.clear_after !== undefined)\n            $(`${msg.spec.clear_after} ~ *`).remove();\n        if (msg.spec.scroll_to !== undefined) {\n            let target = $(`${msg.spec.scroll_to}`);\n            if (!target.length) {\n                console.error(`Scope ${msg.spec.scroll_to} not found`);\n            } else {\n                body_scroll_to(target, msg.spec.position);\n            }\n        }\n        if (msg.spec.clear_range !== undefined) {\n            if ($(`${msg.spec.clear_range[0]}`).length &&\n                $(`${msg.spec.clear_range[1]}`).length) {\n                let removed: HTMLElement[] = [];\n                let valid = false;\n                $(`${msg.spec.clear_range[0]} ~ *`).each(function () {\n                    if (this.id === msg.spec.clear_range[1]) {\n                        valid = true;\n                        return false;\n                    }\n                    removed.push(this);\n                    // $(this).remove();\n                });\n                if (valid)\n                    $(removed).remove();\n                else\n                    console.warn(`clear_range not valid: can't find ${msg.spec.clear_range[1]} after ${msg.spec.clear_range[0]}`);\n            }\n        }\n        if (msg.spec.remove !== undefined)\n            $(`${msg.spec.remove}`).remove();\n    };\n\n}\n","import {ClientEvent, Command, Session} from \"../session\";\nimport {CommandHandler} from \"./base\";\nimport {GetPinValue, PinChangeCallback, PinUpdate, WaitChange, IsFileInput} from \"../models/pin\";\nimport {state} from \"../state\";\nimport {serialize_file, serialize_json} from \"../utils\";\nimport {t} from \"../i18n\";\n\n\nexport class PinHandler implements CommandHandler {\n    session: Session;\n\n    accept_command = ['pin_value', 'pin_update', 'pin_wait', 'pin_onchange'];\n\n    constructor(session: Session) {\n        this.session = session;\n    }\n\n    handle_message(msg: Command) {\n        if (msg.command === 'pin_value') {\n            let val = GetPinValue(msg.spec.name);  // undefined or value\n            let send_msg = {\n                event: \"js_yield\", task_id: msg.task_id,\n                data: val === undefined ? null : {value: val}\n            };\n            this.submit(send_msg, IsFileInput(msg.spec.name));\n        } else if (msg.command === 'pin_update') {\n            PinUpdate(msg.spec.name, msg.spec.attributes);\n        } else if (msg.command === 'pin_wait') {\n            let p = WaitChange(msg.spec.names, msg.spec.timeout);\n            Promise.resolve(p).then((change_info: (null | { name: string, value: any })) => {\n                // change_info: null or {'name': name, 'value': value}\n                let send_msg = {event: \"js_yield\", task_id: msg.task_id, data: change_info}\n                this.submit(send_msg, IsFileInput(change_info.name));\n            }).catch((error) => {\n                console.error('error in `pin_wait`: %s', error);\n                this.submit({event: \"js_yield\", task_id: msg.task_id, data: null});\n            });\n        } else if (msg.command === 'pin_onchange') {\n            let onchange = (val: any) => {\n                let send_msg = {\n                    event: \"callback\",\n                    task_id: msg.spec.callback_id,\n                    data: {value: val}\n                }\n                this.submit(send_msg, IsFileInput(msg.spec.name));\n            }\n            PinChangeCallback(msg.spec.name, msg.spec.callback_id ? onchange : null, msg.spec.clear);\n        }\n    }\n\n    /*\n    * Send pin value to server.\n    * `msg.data` may be null, or {value: any, ...}\n    * `msg.data.value` stores the value of the pin.\n    * when submit files, `msg.data.value` is {multiple: bool, files: File[] }\n    * */\n    submit(msg: ClientEvent, is_file: boolean = false) {\n        if (is_file && msg.data !== null) {\n            // msg.data.value: {multiple: bool, files: File[]}\n            let {multiple, files} = msg.data.value;\n            msg.data.value = multiple ? [] : null; // replace file value with initial value\n\n            let toast = Toastify({\n                text: `⏳${t(\"file_uploading\")} 0%`,\n                duration: -1,\n                gravity: \"top\",\n                position: 'center',\n                backgroundColor: '#1565c0',\n            });\n            if (files.length > 0) toast.showToast();\n            state.CurrentSession.send_buffer(\n                new Blob([\n                    serialize_json(msg),\n                    ...files.map((file: File) => serialize_file(file, 'value'))\n                ], {type: 'application/octet-stream'}),\n                (loaded: number, total: number) => {\n                    toast.toastElement.innerText = `⏳${t(\"file_uploading\")} ${((loaded / total)*100).toFixed(2)}%`;\n                    if (total - loaded < 100) toast.hideToast();\n                }\n            );\n\n        } else {\n            state.CurrentSession.send_message(msg);\n        }\n    }\n}","import {Command, Session} from \"../session\";\n\nimport {render_tpl} from \"../models/output\"\nimport {CommandHandler} from \"./base\";\nimport {trigger_output_widget_show_event} from \"./output\";\n\n\nexport class PopupHandler implements CommandHandler {\n    session: Session;\n\n    accept_command = ['popup', 'close_popup'];\n\n    private body = $('body');\n\n    constructor(session: Session) {\n        this.session = session;\n    }\n\n    static current_elem: JQuery<JQuery.Node> = null;  // 当前正在处于显示中的弹窗元素，表示页面的期望状态\n\n    handle_message(msg: Command) {\n        if (PopupHandler.current_elem) {\n            // @ts-ignore\n            PopupHandler.current_elem.modal('hide');\n            PopupHandler.current_elem = null;\n        }\n\n        if (msg.command == 'popup') {\n            // 显示弹窗前，先关闭其他弹窗\n            // @ts-ignore\n            $('.modal').modal('hide');\n\n            let elem = PopupHandler.get_element(msg.spec);\n            this.body.append(elem);\n            trigger_output_widget_show_event();\n\n            // 弹窗关闭后就立即销毁\n            elem.on('hidden.bs.modal', function (e) {\n                elem.remove();\n            });\n\n            elem.on('shown.bs.modal', function (e) {\n                // 弹窗显示后，有新弹窗出现或当前弹窗被关闭，则立即关闭当前弹窗\n                if (elem != PopupHandler.current_elem || !PopupHandler.current_elem) {\n                    // @ts-ignore\n                    elem.modal('hide');\n                }\n            });\n\n            // @ts-ignore\n            elem.modal('show');\n            PopupHandler.current_elem = elem;\n        } else if (msg.command == 'close_popup') {\n            // @ts-ignore\n            $('.modal').modal('hide');\n            PopupHandler.current_elem = null;\n        }\n    }\n\n    static get_element(spec: { title: string, content: any[], closable: boolean, implicit_close: boolean, size: string }) {\n        // https://v4.bootcss.com/docs/components/modal/#options\n        const tpl = `<div class=\"modal fade\" {{^implicit_close}}data-backdrop=\"static\"{{/implicit_close}} aria-labelledby=\"model-id-{{ dom_id }}\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\n          <div class=\"modal-dialog {{#large}}modal-lg{{/large}} {{#small}}modal-sm{{/small}}\" role=\"document\">\n            <div class=\"modal-content\">\n              <div class=\"modal-header\">\n                <h5 class=\"modal-title\" id=\"model-id-{{ mid }}\">{{ title }}</h5>\n                {{#closable}}\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                  <span aria-hidden=\"true\">&times;</span>\n                </button>\n                {{/closable}}\n              </div>\n              <div class=\"modal-body markdown-body\" id=\"{{ dom_id }}\">\n                {{#content}}\n                    {{& pywebio_output_parse}}\n                {{/content}}\n              </div>\n            </div>\n          </div>\n        </div>`;\n\n        if (!spec.closable)\n            spec.implicit_close = false;\n\n        return render_tpl(tpl, {\n            ...spec,  // 字段： content, title, size, implicit_close, closable, dom_id\n            large: spec.size == 'large',\n            small: spec.size == 'small',\n        });\n    }\n\n}","import {Command, Session} from \"../session\";\nimport {CommandHandler} from \"./base\";\nimport {state} from \"../state\";\n\n\nexport class ScriptHandler implements CommandHandler {\n    session: Session;\n\n    accept_command = ['run_script'];\n\n    constructor(session: Session) {\n        this.session = session;\n    }\n\n    handle_message(msg: Command) {\n        let script = msg.spec.code as string;\n        let args = msg.spec.args as { [i: string]: any };\n\n        let arg_names: string[] = [];\n        let arg_vals: any[] = [];\n\n        for (let key in args) {\n            arg_names.push(key);\n            arg_vals.push(args[key]);\n        }\n\n        let res = null;\n        script = `return eval(${JSON.stringify(script)})`;  // lgtm [js/bad-code-sanitization]\n        try {\n            const script_func = new Function(...arg_names, script);\n            res = script_func(...arg_vals);\n        } catch (e) {\n            console.log('Exception occurred in user code of `run_script` command: \\n%s', e);\n        }\n        if (msg.spec.eval) {\n            // credit: https://stackoverflow.com/questions/27746304/how-do-i-tell-if-an-object-is-a-promise\n            Promise.resolve(res).then(function (value) {\n                state.CurrentSession.send_message({\n                    event: \"js_yield\",\n                    task_id: msg.task_id,\n                    data: value === undefined ? null : value\n                });\n            }).catch((error) => {\n                console.log('Exception occurred in user code of `run_script` command: \\n%s', error);\n                state.CurrentSession.send_message({event: \"js_yield\", task_id: msg.task_id, data: null});\n            });\n        }\n    }\n}","import {Command} from \"../session\";\nimport {CommandHandler} from \"./base\";\nimport {state} from \"../state\";\n\nexport class ToastHandler implements CommandHandler {\n    accept_command: string[] = ['toast'];\n\n    constructor() {\n    }\n\n    handle_message(msg: Command) {\n        let spec = msg.spec;\n        let toast = Toastify({\n            text: Mustache.escape(spec.content),\n            duration: spec.duration === 0 ? -1 : spec.duration,  // -1 for permanent toast\n            close: spec.duration === 0,//To show the close icon or not\n            gravity: \"top\", // `top` or `bottom`\n            position: spec.position, // `left`, `center` or `right`\n            backgroundColor: spec.color,\n            stopOnFocus: true, // Prevents dismissing of toast on hover\n            onClick: function () {\n                if (!spec.callback_id)\n                    return;\n\n                if (state.CurrentSession === null)\n                    return console.error(\"Error: WebIOController is not instantiated\");\n                state.CurrentSession.send_message({\n                    event: \"callback\",\n                    task_id: spec.callback_id,\n                    data: null\n                });\n                toast.hideToast();\n            }\n        });\n        toast.showToast();\n    }\n}","// @ts-ignore\nconst userLangCode: string = (navigator.language || navigator.userLanguage || 'en').toLowerCase();\n\nconst langPrefix: string = userLangCode.split('-')[0];\n\nexport let customMessage: { [msgid: string]: string } = {};\n\nconst translations: { [lang: string]: { [msgid: string]: string } } = {\n    \"en\": {\n        \"disconnected_with_server\": \"Disconnected from the server, please refresh the page\",\n        \"connect_fail\": \"Failed to connect to server!\",\n        \"error_in_input\": \"There is an error with the input, please fix the error first\",\n        \"file_size_exceed\": 'File \"%1\" size exceeds limit: the size of a single file must not exceed %2',\n        \"file_total_size_exceed\": \"The total file size exceeds the limit: the total file size must not exceed %1\",\n        \"submit\": \"Submit\",\n        \"reset\": \"Reset\",\n        \"cancel\": \"Cancel\",\n        \"duplicated_pin_name\": \"This pin widget has expired (due to the output of a new pin widget with the same name).\",\n        \"browse_file\": \"Browse\",\n        \"duplicated_scope_name\": \"Error: The name of this scope is duplicated with the previous one!\",\n        \"file_uploading\": \"File Uploading...\",\n    },\n    \"zh\": {\n        \"disconnected_with_server\": \"与服务器连接已断开，请刷新页面重新操作\",\n        \"connect_fail\": \"连接服务器失败!\",\n        \"error_in_input\": \"输入项存在错误，请消除错误后再提交\",\n        \"file_size_exceed\": '文件\"%1\"大小超过限制: 单个文件大小不超过%2',\n        \"file_total_size_exceed\": \"文件总大小超过限制: 文件总大小不超过%1\",\n        \"submit\": \"提交\",\n        \"reset\": \"重置\",\n        \"cancel\": \"取消\",\n        \"duplicated_pin_name\": \"该 Pin widget 已失效（由于输出了新的同名 pin widget）\",\n        \"browse_file\": \"浏览文件\",\n        \"duplicated_scope_name\": \"错误: 此scope与已有scope重复!\",\n        \"file_uploading\": \"文件上传中\",\n    },\n    \"ru\": {\n        \"disconnected_with_server\": \"Соединение с сервером потеряно, пожалуйста перезагрузите страницу\",\n        \"connect_fail\": \"Ошибка подключения к серверу!\",\n        \"error_in_input\": \"Пожалуйста, сначала исправьте ошибку\",\n        \"file_size_exceed\": 'Файл \"%1\" весит слишком много: максимально допустимый размер файла - %2',\n        \"file_total_size_exceed\": \"Общий размер файлов превышен: максимально допустимый объем - %1\",\n        \"submit\": \"Отправить\",\n        \"reset\": \"Сброс\",\n        \"cancel\": \"Отмена\",\n        \"duplicated_pin_name\": \"Этот закреп виджет устарел (виджет с таким же именем был выведен).\",\n        \"browse_file\": \"Обзор\",\n\n    },\n    \"de\": {\n        \"disconnected_with_server\": \"Verbindung zum Server unterbrochen. Bitte laden Sie die Seite neu.\",\n        \"connect_fail\": \"Verbindung zum Server nicht möglich!\",\n        \"error_in_input\": \"Die Eingabe ist fehlerhaft. Bitte beheben Sie zuerst den Fehler.\",\n        \"file_size_exceed\": 'Die Größe der Datei \"%1\" überschreitet das zulässige Maximum: eine einzelne Datei darf nicht größer sein als %2.',\n        \"file_total_size_exceed\": \"Die Gesamtdateigröße überschreitet das zulässige Maximum: alle Dateien zusammen dürfen nicht größer sein als %1.\",\n        \"submit\": \"Übermitteln\",\n        \"reset\": \"Zurücksetzen\",\n        \"cancel\": \"Abbrechen\",\n        \"duplicated_pin_name\": \"Dieses Pin-Widget ist nicht mehr gültig (Grund: Der Output enthält ein neues Pin-Widget mit dem gleichen Namen).\",\n        \"browse_file\": \"Durchsuchen\",\n        \"duplicated_scope_name\": \"Fehler: Der Name dieses Scopes ist mit dem vorhergehenden identisch!\",\n    },\n    \"fa\": {\n        \"disconnected_with_server\": \"اتصال به سرور قطع شده است، لطفا صفحه را رفرش کنید\",\n        \"connect_fail\": \"ناموفق در اتصال به سرور!\",\n        \"error_in_input\": \"یک خطا با ورودی وجود دارد، لطفا ابتدا خطا را برطرف کنید\",\n        \"file_size_exceed\": 'اندازه فایل \"%1\" از حد مجاز بیشتر است: اندازه یک فایل تکی نباید از %2 بیشتر باشد',\n        \"file_total_size_exceed\": \"اندازه کلی فایل از حد مجاز بیشتر است: اندازه کلی فایل نباید از %1 بیشتر باشد\",\n        \"submit\": \"ارسال\",\n        \"reset\": \"بازنشانی\",\n        \"cancel\": \"لغو\",\n        \"duplicated_pin_name\": \"این Pin Widget منقضی شده است (به دلیل خروجی یک Pin Widget جدید با نام یکسان)\",\n        \"browse_file\": \"مرور\",\n        \"duplicated_scope_name\": \"خطا: نام این Scope با نام قبلی تکراری است!\",\n    },\n    \"uz\": {\n        \"disconnected_with_server\": \"Server aloqasi uzildi, sahifani qayta yuklang\",\n        \"connect_fail\": \"Serverga ulanib bo‘lmadi!\",\n        \"error_in_input\": \"Iltimos, avval ma‘lumotlarni kiritish bilan bog‘liq xatoni tuzating\",\n        \"file_size_exceed\": '“%1” fayl hajmi cheklamadan oshib ketdi: ruxsat etilgan maksimal fayl hajmi - %2',\n        \"file_total_size_exceed\": \"Umumiy fayllar hajmi cheklamadan oshib ketdi: umumiy fayllar hajmi %1 dan oshmasligi kerak\",\n        \"submit\": \"Yuborish\",\n        \"reset\": \"Qaytadan\",\n        \"cancel\": \"Bekor qilish\",\n        \"duplicated_pin_name\": \"Bu pin widget muddati tugagan (xuddi shu nomdagi yangi pin widget chiqishi tufayli).\",\n        \"browse_file\": \"Fayl yuklash\",\n        \"duplicated_scope_name\": \"Xatolik: Ushbu Scope nomi avvalgisi bilan takrorlangan!\",\n    },\n    \"kz\": {\n        \"disconnected_with_server\": \"Серверге қосылым жоғалды, бетті қайта жүктеңіз\",\n        \"connect_fail\": \"Серверге қосылу қатесі!\",\n        \"error_in_input\": \"Алдымен қатені түзетіңіз\",\n        \"file_size_exceed\": '“%1” файлы тым үлкен: рұқсат етілген ең үлкен файл өлшемі - %2',\n        \"file_total_size_exceed\": \"Файлдың жалпы өлшемінен асып кетті: рұқсат етілген ең үлкен өлшем - %1\",\n        \"submit\": \"Жіберу\",\n        \"reset\": \"қалпына келтіру\",\n        \"cancel\": \"Болдырмау\",\n        \"duplicated_pin_name\": \"Бұл пин виджеті ескірген (бірдей атаудағы виджет ескірген).\",\n        \"browse_file\": \"Шолу\",\n        \"duplicated_scope_name\": \"Қате: бұл аумақтың атауы алдыңғысымен қайталанады!\",\n        \"file_uploading\": \"Файлды жүктеп салу...\",\n    },\n};\n\ntranslations['custom'] = customMessage // use to customize the message text.\n\n// sprintf equivalent, takes a string and some arguments to make a computed string\n// eg: strfmt(\"%1 dogs are in %2\", 7, \"the kitchen\"); => \"7 dogs are in the kitchen\"\n// eg: strfmt(\"I like %1, bananas and %1\", \"apples\"); => \"I like apples, bananas and apples\"\nfunction strfmt(fmt: string) {\n    let args = arguments;\n\n    return fmt\n        // put space after double % to prevent placeholder replacement of such matches\n        .replace(/%%/g, '%% ')\n        // replace placeholders\n        .replace(/%(\\d+)/g, function (str, p1) {\n            return args[p1];\n        })\n        // replace double % and space with single %\n        .replace(/%% /g, '%')\n}\n\nexport function t(msgid: string, ...args: string[]): string {\n    let fmt = null;\n    for (let lang of ['custom', userLangCode, langPrefix, 'en']) {\n        if (translations[lang] && translations[lang][msgid]) {\n            fmt = translations[lang][msgid];\n            break;\n        }\n    }\n    if (fmt === null)\n        throw Error(`No translation for \"${msgid}\" in \"${userLangCode}\"`);\n\n    return strfmt.apply(null, [fmt, ...args]);\n}\n","import {config as appConfig, state} from \"./state\";\nimport {Command, HttpSession, is_http_backend, Session, WebSocketSession, pushData} from \"./session\";\nimport {InputHandler} from \"./handlers/input\"\nimport {OutputHandler} from \"./handlers/output\"\nimport {CommandDispatcher, SessionCtrlHandler} from \"./handlers/base\"\nimport {PopupHandler} from \"./handlers/popup\";\nimport {openApp} from \"./utils\";\nimport {ScriptHandler} from \"./handlers/script\";\nimport {DownloadHandler} from \"./handlers/download\";\nimport {ToastHandler} from \"./handlers/toast\";\nimport {EnvSettingHandler} from \"./handlers/env\";\nimport {PinHandler} from \"./handlers/pin\";\nimport {customMessage} from \"./i18n\"\n\n// 获取后端API的绝对地址\nfunction backend_absaddr(addr: string) {\n    return new URL(addr, window.location.href).href;\n}\n\n// 初始化Handler和Session\nfunction set_up_session(webio_session: Session, output_container_elem: JQuery, input_container_elem: JQuery) {\n    state.CurrentSession = webio_session;\n    $('#pywebio-loading').show();\n    webio_session.on_session_create(function () {\n        $('#pywebio-loading').hide();\n        $('#favicon32').attr('href', 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAwklEQVQ4T63TvU5CQRCG4WcwMfEuqOgNtQ2Nd4CxV2LHtVhJ0N7AHdjQUBtrrLwLA4ks2Rx+/Qucw3Y78807M7sz4ft5dq6mI7RQX7o/JCNzfdfetkNifRk6k9wLN9jYdxMkyZPQ1faZXYUwB/OCix8V/W4Y4zJDCsBAX7jdM7iQJY+udELu+cTrP2X/xU2+NMPAg3B3UPaVOOmFoQkapQC8Z8AUpyUBs6MAKrZQ+RErf2PlQTrKKK8gpZdpewgOXOcFTTxEjYwMoIkAAAAASUVORK5CYII=');\n        $('#favicon16').attr('href', 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABmUlEQVRYR82XK0wDQRCGv21TUUUJGBwGDBggGCSGBIcAWnBAgsNAgkKhSMDgCA8HtEXgSDBIDC9DDRgcpoSiKo52yea49DiutMttsz27M/98N7s7OyNo9tujgxSTwDiCIaAXSH27l4AXJA/AFSUuWOajGWnR0ChLP3HWkWSAZEN716CM4JQKW6R5+sunPkCeJJJNBCtAosnAQTMHyS6CDWYoh2mEAxzTR4JzYOCfgYNuBRymmOc5uPAbIMswMS6BbkPBPZkiVSZIc+/X/Qng/vl1C4LXIBzG/JmoAag9hxuDaa+XwAIw6p2JGkCObQSrhtMeLifZYZY1tegCqKsW4zHCadfldqgyqK6oC3DGIZIFXZVI9oIjplkUqArXyatGkYkU1+dc5p0eQY4MghNTqlo6kjkFsI9gScvRlLHkQJDnFhgxpampc6cAikCXpqMp8zcF8AnETSlq6lTaAsD6Flg+hNavofVCZL0UW3+M2uI5VhBWGxIFYL0lUxBWm1KviFttyz0Iq4OJB2F1NPO/qdaG0+DD3qLx/AuMVJFhmC8dSgAAAABJRU5ErkJggg==');\n    });\n    webio_session.on_session_close(function () {\n        $('#favicon32').attr('href', 'data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAByElEQVRYR82XLUzDUBDH/9emYoouYHAYMGCAYJAYEhxiW2EOSOYwkKBQKBIwuIUPN2g7gSPBIDF8GWbA4DAjG2qitEfesi6lbGxlXd5q393/fr333t07QpdfPp8f0nV9CcACEU0DGAOgN9yrAN6Y+QnATbVavcrlcp/dSFMnI9M0J1RV3WHmFQCJTvaN9RoRXbiuu28YxstfPm0BbNtOMPMeEW0C0LoMHDZzmPmIiHbT6XStlUZLgEKhMK5p2iWAyX8GDruVHMdZzmazr+GFXwCmac4oinINYCSm4L5M2fO8RcMwHoO6PwAaf37bh+BNCMdx5oOZaAKIPQdwF2Pa2yWwBGDOPxNNAMuyDohoK+a0t5Rj5sNMJrMtFusA4qopivLcw2mPyu14njclrmgdoFgsnjLzWlSVXuyJ6CyVSq2TqHDJZPI9QpHpJW7Qt1apVEbJsqwVIjqPSzWKDjOvCoBjItqI4hiXLTOfkG3b9wBm4xKNqPMgAMoAhiM6xmX+IQC+AKhxKUbUcQcCQPoWyD2E0q+h9EIkvRRLb0YD0Y4FhNQHiQCQ/iQTEFIfpX4Nl/os9yGkDiY+hNTRLNhSpQ2n4b7er/H8G7N6BRSbHvW5AAAAAElFTkSuQmCC');\n        $('#favicon16').attr('href', 'data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA0ElEQVQ4T62TPQrCQBCF30tA8BZW9mJtY+MNEtKr2HkWK0Xtw+4NbGysxVorbyEKyZMNRiSgmJ/tZufNNzO7M0ThxHHc8zxvSnIIoPNyXyXt0zRdR1F0+gxhblhr25IWJMcA3vcFviRtSc6DILg5XyZ0wQB2AAbFir7YBwAjB8kAxpg1ycmfwZlM0iYMwyldz77vH3+U/Y2rJEn6NMYsSc7KZM+1kla01p4BdKsAAFwc4A6gVRHwaARQr4Xaj1j7G2sPUiOjnEMqL9PnDJRd5ycpJXsd2f2NIAAAAABJRU5ErkJggg==');\n    });\n\n    let output_ctrl = new OutputHandler(webio_session, output_container_elem);\n    let input_ctrl = new InputHandler(webio_session, input_container_elem);\n    let popup_ctrl = new PopupHandler(webio_session);\n    let session_ctrl = new SessionCtrlHandler(webio_session);\n    let script_ctrl = new ScriptHandler(webio_session);\n    let pin_ctrl = new PinHandler(webio_session);\n    let download_ctrl = new DownloadHandler();\n    let toast_ctrl = new ToastHandler();\n    let env_ctrl = new EnvSettingHandler();\n\n    let dispatcher = new CommandDispatcher(output_ctrl, input_ctrl, popup_ctrl, session_ctrl,\n        script_ctrl, download_ctrl, toast_ctrl, env_ctrl, pin_ctrl);\n\n    webio_session.on_server_message((msg: Command) => {\n        try {\n            let ok = dispatcher.dispatch_message(msg);\n            if (!ok) console.error('Unknown command:%s', msg.command);\n        } catch (e) {\n            console.error('Error(%s) in dispatch command: %s', e, msg.command);\n        }\n    });\n}\n\n\nfunction startWebIOClient(options: {\n    output_container_elem: JQuery,\n    input_container_elem: JQuery,\n    backend_address: string,\n    app_name: string,\n    protocol: string, // 'http', 'ws', 'auto'\n    runtime_config: { [name: string]: any }\n}) {\n    for (let key in options.runtime_config) {\n        // @ts-ignore\n        appConfig[key] = options.runtime_config[key];\n    }\n    const backend_addr = backend_absaddr(options.backend_address);\n\n    let start_session = (is_http: boolean) => {\n        let session;\n        if (is_http)\n            session = new HttpSession(backend_addr, options.app_name, appConfig.httpPullInterval);\n        else\n            session = new WebSocketSession(backend_addr, options.app_name);\n        set_up_session(session, options.output_container_elem, options.input_container_elem);\n        session.start_session(appConfig.debug);\n    };\n    if (options.protocol == 'auto')\n        is_http_backend(backend_addr).then(start_session);\n    else\n        start_session(options.protocol == 'http')\n}\n\n\n// @ts-ignore\nwindow.WebIO = {\n    '_state': state,\n    'startWebIOClient': startWebIOClient,\n    'openApp': openApp,\n    'message_tpl': customMessage,\n    'pushData': pushData,\n};","import {pushData} from \"../session\";\n\nconst tpl = `<div class=\"webio-datatable\">\n<div class=\"ag-theme-{{theme}} ag-grid\" style=\"width: 100%; height: {{height}}\">\n    <div class=\"grid-loading\">⌛️ Loading Datatable...</div>\n</div>\n<div class=\"ag-grid-cell-bar\"></div>\n<div class=\"ag-grid-tools\">\n    <div class=\"grid-status\">\n        <div class=\"select-count\">Selected <span class=\"ag-grid-row-count\">0</span> <span\n                class=\"ag-grid-row-unit\">row</span></div>\n        <div class=\"grid-unselect\" style=\"display: flex;align-items: center;\">\n            <div class=\"sep\"></div>\n            <div class=\"act-btn\">Unselect</div>\n        </div>\n    </div>\n    <div class=\"grid-actions\"></div>\n</div>\n</div>`\n\nfunction path2field(path: string[]) {\n    return [\n        path.join(''),\n        path.map((p) => p.length).join('_'),\n        path.length\n    ].join('_');\n}\n\nfunction field2path(field: string) {\n    let parts = field.split('_');\n    let level = parseInt(parts[parts.length - 1]);\n    let path = [];\n    let start = 0;\n    for (let i = 0; i < level; i++) {\n        let len = parseInt(parts[parts.length - 1 - level + i]);\n        path.push(field.substring(start, start + len));\n        start += len;\n    }\n    return path;\n}\n\nfunction flatten_row_and_extract_column(\n    row: { [field: string]: any },  // origin row\n    current_columns: { [field: string]: any },  // used to receive column struct\n    row_data: { [field: string]: any }, // used to receive flatten row\n    path: string[]\n) {\n    if (!row) return;\n    let keys: string[] = [];\n    try {\n        keys = Object.keys(row);\n    } catch (e) {\n    }\n    keys.forEach((key: any) => {\n        let val = row[key];\n        path.push(key);\n        if (!(key in current_columns))\n            current_columns[key] = {};\n        if (val && typeof val == \"object\" && !Array.isArray(val)) {\n            flatten_row_and_extract_column(val, current_columns[key], row_data, path);\n        } else {\n            row_data[path2field(path)] = val;\n        }\n        path.pop();\n    });\n}\n\nfunction flatten_row(row: { [field: string]: any }) {\n    let current_columns = {}, row_data = {}, path: string[] = [];\n    flatten_row_and_extract_column(row, current_columns, row_data, path);\n    return row_data;\n}\n\n/*\n* field_args: key -> column_def\n* path_args: [(path, column_def), ...]\n* */\nfunction row_data_and_column_def(\n    data: any[],\n    field_args: { [field: string]: any },\n    path_args: any[][],\n    column_order: { [field: string]: any },\n) {\n    function capitalizeFirstLetter(s: string) {\n        return s.charAt(0).toUpperCase() + s.slice(1);\n    }\n\n\n    function gen_columns_def(\n        current_columns: { [field: string]: any },  // all leaf node is {}\n        path: string[],\n        field_args: { [field: string]: any },\n        path_field_args: { [field: string]: any },\n        args_from_parent: { [field: string]: any }\n    ) {\n        let column_def: any[] = [];\n        Object.keys(current_columns).forEach((key) => {\n            let val = current_columns[key];\n            path.push(key);\n            let path_field = path2field(path);\n            if (Object.keys(val).length > 0) {\n                let extra_args = {\n                    ...args_from_parent,\n                    ...(path_field_args[path_field] || {}),\n                };\n                column_def.push({\n                    headerName: capitalizeFirstLetter(key.replace(/_/g, \" \")),\n                    children: gen_columns_def(val, path, field_args, path_field_args, extra_args)\n                });\n            } else {\n                let column = {\n                    headerName: capitalizeFirstLetter(key.replace(/_/g, \" \")),\n                    field: path_field,\n                    ...args_from_parent,\n                    ...(field_args[key] || {}),\n                    ...(path_field_args[path_field] || {}),\n                };\n                column_def.push(column);\n            }\n            path.pop();\n        })\n        return column_def;\n    }\n\n    let columns = {};\n    let rows = [];\n    for (let row of data) {\n        let row_data = {};\n        flatten_row_and_extract_column(row, columns, row_data, []);\n        rows.push(row_data);\n    }\n    let path_field_args: { [field: string]: any } = {};\n    path_args.map(([path, column_def]) => {\n        path_field_args[path2field(path)] = column_def\n    })\n\n    if (column_order) {\n        // replace all leaf node in column_order to {}\n        columns = JSON.parse(\n            JSON.stringify(column_order),\n            (key, val) => (val && typeof val == \"object\" && !Array.isArray(val)) ? val : {}\n        );\n\n    }\n    let column_defs = gen_columns_def(columns, [], field_args, path_field_args, {});\n    return {\n        rowData: rows,\n        columnDefs: column_defs,\n    }\n}\n\nfunction parse_js_func(object: any, js_func_key: string) {\n    return JSON.parse(JSON.stringify(object), (key, value) => {\n        if (\n            typeof value === 'object' &&\n            value.__pywebio_js_function__ === js_func_key &&\n            'params' in value && 'body' in value\n        ) {\n            try {\n                return new Function(...value.params, value.body);\n            } catch (e) {\n                console.error(\"Parse js function error: %s\", e);\n                return null;\n            }\n        }\n        return value;\n    })\n}\n\nfunction safe_run(func_name: string, func: any, ...args: any[]) {\n    try {\n        if (typeof func === 'function')\n            func.bind(this)(...args);\n    } catch (e) {\n        console.error(\"Error on %s function:\\n\", func_name, e);\n    }\n}\n\nconst gridDefaultOptions = {\n    //https://www.ag-grid.com/javascript-data-grid/row-selection/\n    rowMultiSelectWithClick: true,\n    groupSelectsChildren: true,\n    groupSelectsFiltered: true,\n\n    // https://www.ag-grid.com/javascript-data-grid/selection-overview/\n    enableCellTextSelection: true,\n    ensureDomOrder: true,\n\n    autoGroupColumnDef: {\n        pinned: 'left',//force pinned left. Does not work in columnDef\n    },\n\n    // some enterprise config\n    enableCharts: true,\n    enableRangeSelection: true,\n    // animateRows: true, // have rows animate to new positions when sorted\n    sideBar: {\n        toolPanels: [\n            {\n                id: 'columns',\n                labelDefault: 'Columns',\n                labelKey: 'columns',\n                iconKey: 'columns',\n                toolPanel: 'agColumnsToolPanel',\n                minWidth: 225,\n                width: 290,\n                maxWidth: 400,\n            },\n            {\n                id: 'filters',\n                labelDefault: 'Filters',\n                labelKey: 'filters',\n                iconKey: 'filter',\n                toolPanel: 'agFiltersToolPanel',\n                minWidth: 180,\n                maxWidth: 400,\n                width: 250,\n            },\n        ],\n        position: 'right',\n    },\n};\n\nconst gridDefaultColDef = {\n    //https://www.ag-grid.com/javascript-data-grid/row-height/#text-wrapping\n    //wrapText: true,     // <-- HERE\n    //autoHeight: true,   // <-- & HERE\n\n    // suppressMenu: true,\n    wrapHeaderText: true,\n    autoHeaderHeight: true,\n\n    sortable: true,\n    filter: true,\n\n    resizable: true,\n\n    // allow every column to be aggregated\n    enableValue: true,\n    // allow every column to be grouped\n    enableRowGroup: true,\n    // allow every column to be pivoted\n    enablePivot: true,\n    // sizeColumnsToFit:true,\n    defaultAggFunc: 'avg',\n}\n\n\nexport let Datatable = {\n    handle_type: 'datatable',\n    get_element: function (spec: any): JQuery {\n        let html = Mustache.render(tpl, spec);\n        let elem = $(html);\n\n        spec.field_args = parse_js_func(spec.field_args, spec.js_func_key);\n        spec.path_args = parse_js_func(spec.path_args, spec.js_func_key);\n        spec.grid_args = parse_js_func(spec.grid_args, spec.js_func_key);\n        let auto_height = spec.height == 'auto';\n\n        let options = row_data_and_column_def(spec.records, spec.field_args, spec.path_args, spec.column_order);\n\n        if (spec.actions.length === 0) {\n            elem.find('.ag-grid-tools').hide();\n        } else {\n            // not show actions at beginning\n            elem.find('.ag-grid-tools .grid-unselect, .ag-grid-tools .grid-actions').hide();\n        }\n\n        let getRowId = undefined;\n        if (spec.id_field) {\n            getRowId = (params: any) => params.data[path2field(spec.id_field)]\n        }\n\n        let grid_resolve: (opts: any) => void = null;\n        let gridPromise = new Promise((resolve, reject) => {\n            grid_resolve = resolve;\n        });\n        if (spec.instance_id)\n            // @ts-ignore\n            window[`ag_grid_${spec.instance_id}_promise`] = gridPromise;\n\n        let column_flex_enabled = (\n            (spec.field_args && Object.keys(spec.field_args).some((k: any) => spec.field_args[k].flex))\n            || (spec.path_args && spec.path_args.some((k: any) => k[1].flex))\n            || (spec.grid_args.defaultColDef || {}).flex\n        );\n\n        const gridOptions: any = {\n            ...gridDefaultOptions,\n            ...spec.grid_args,\n\n            path2field, field2path, spec, flatten_row,\n\n            // https://www.ag-grid.com/javascript-data-grid/row-ids/\n            getRowId: getRowId,\n\n            rowData: options.rowData,\n            columnDefs: options.columnDefs,\n\n            //https://www.ag-grid.com/javascript-data-grid/row-selection/\n            rowSelection: (spec.actions.length > 0 || spec.on_select) && (spec.multiple_select ? 'multiple' : 'single'),\n\n            defaultColDef: {\n                ...gridDefaultColDef,\n                ...(spec.grid_args.defaultColDef || {}),\n            },\n            getSelectedRowIDs: function () {\n                const selectedRows = gridOptions.api.getSelectedNodes();\n                let selected_row_ids = [];\n                for (let r of selectedRows) {\n                    if (!r.group)\n                        selected_row_ids.push(r.id);\n                }\n                if (!spec.id_field)\n                    selected_row_ids = selected_row_ids.map((rid: any) => parseInt(rid));\n                return selected_row_ids;\n            },\n            onGridReady: (param: any) => {\n                grid_resolve(gridOptions);\n                if (auto_height) {\n                    gridOptions.api.setDomLayout('autoHeight');\n                }\n\n                let grid_elem = elem.find(\".ag-grid\")[0];\n                let on_grid_show = Promise.resolve();\n                if (grid_elem.clientWidth === 0) {  // the grid is hidden via `display: none`, wait for it to show\n                    on_grid_show = new Promise((resolve) => {\n                        // @ts-ignore\n                        let observer = new ResizeObserver((entries, observer) => {\n                            if (grid_elem.clientWidth > 0) {\n                                observer.disconnect();\n                                resolve();\n                            }\n                        });\n                        observer.observe(grid_elem);\n                    });\n                }\n                on_grid_show.then(() => {\n                    if (column_flex_enabled)\n                        return;\n\n                    let width_free_columns: any[] = [];\n                    gridOptions.columnApi.getColumns().forEach((column: any) => {\n                        let column_def = column.getColDef();\n                        if (!column_def.hide && !column_def.flex && !column_def.width)\n                            width_free_columns.push(column.getId());\n                    });\n                    if (width_free_columns.length > 0) {\n                        gridOptions.columnApi.autoSizeColumns(width_free_columns);\n                    }\n\n                    let content_width = 0;\n                    gridOptions.columnApi.getColumns().forEach((column: any) => {\n                        if (!column.getColDef().hide)\n                            content_width += column.getActualWidth();\n                    });\n                    if (content_width < grid_elem.clientWidth) {\n                        // the content is smaller than the grid, so we set columns to adjust in size to fit the grid horizontally\n                        gridOptions.api.sizeColumnsToFit();\n                    }\n                })\n\n                if (spec.actions.length > 0) {\n                    elem.find('.ag-grid-tools').css('opacity', 1);\n                }\n                elem.find('.grid-unselect .act-btn').on('click', () => gridOptions.api.deselectAll());\n                for (let btn_idx in spec.actions) {\n                    let label = spec.actions[btn_idx];\n                    if (label === null) {\n                        elem.find('.grid-actions').append('<div class=\"sep\"></div>');\n                    } else {\n                        let btn = $(`<div class=\"act-btn\">${label}</div>`);\n                        btn.on('click', () => {\n                            pushData({\n                                btn: parseInt(btn_idx),\n                                rows: gridOptions.getSelectedRowIDs()\n                            }, spec.callback_id)\n                        });\n                        elem.find('.grid-actions').append(btn);\n                    }\n                }\n\n                safe_run('agGrid.onGridReady()', spec.grid_args.onGridReady, param);\n            },\n            onCellFocused: (params: any) => {\n                let row = gridOptions.api.getDisplayedRowAtIndex(params.rowIndex);\n                let cellValue = gridOptions.api.getValue(params.column, row)\n                if (cellValue === undefined)\n                    cellValue = ''\n\n                if (spec.cell_content_bar) {\n                    let bar = elem.find('.ag-grid-cell-bar');\n                    bar.text(cellValue).show();\n                }\n\n                safe_run('agGrid.onCellFocused()', spec.grid_args.onCellFocused, params);\n            },\n\n            onSelectionChanged: (param: any) => {\n                const selectedRows = gridOptions.getSelectedRowIDs();\n                if (spec.on_select && selectedRows.length > 0) {\n                    pushData({\n                        rows: selectedRows\n                    }, spec.callback_id)\n                }\n\n                elem.find(\".ag-grid-row-count\").text(selectedRows.length);\n                elem.find(\".ag-grid-row-unit\").text(selectedRows.length > 1 ? 'rows' : 'row');\n                if (selectedRows.length === 0) {\n                    elem.find('.ag-grid-tools .grid-unselect, .ag-grid-tools .grid-actions').hide();\n                }\n                if (selectedRows.length >= 1) {\n                    elem.find('.ag-grid-tools .grid-unselect, .ag-grid-tools .grid-actions').fadeIn(200);\n                }\n\n                safe_run('agGrid.onSelectionChanged()', spec.grid_args.onSelectionChanged, param);\n            }\n        };\n\n        let ag_version = spec.enterprise_key ? 'ag-grid-enterprise' : 'ag-grid';\n        // @ts-ignore\n        requirejs([ag_version], function (agGrid) {\n            elem.find('.grid-loading').remove();\n            new agGrid.Grid(elem.find(\".ag-grid\")[0], gridOptions);\n            if (spec.instance_id) {\n                // @ts-ignore\n                window[`ag_grid_${spec.instance_id}`] = gridOptions;\n            }\n        });\n\n        return elem;\n    }\n};","import {InputItem} from \"./base\";\nimport {state} from \"../../state\";\n\nconst buttons_tpl = `\n<div class=\"form-group\">\n    {{#label}}<label>{{label}}</label>  <br> {{/label}} \n    {{#buttons}}\n    <button type=\"{{btn_type}}\" data-type=\"{{type}}\" aria-describedby=\"{{name}}_help\" {{#disabled}}disabled data-pywebio-disabled{{/disabled}} class=\"btn btn-{{color}}\">{{label}}</button>\n    {{/buttons}}\n    <div class=\"invalid-feedback\">{{invalid_feedback}}</div>  <!-- input 添加 is-invalid 类 -->\n    <div class=\"valid-feedback\">{{valid_feedback}}</div> <!-- input 添加 is-valid 类 -->\n    <small id=\"{{name}}_help\" class=\"form-text text-muted\">{{help_text}}</small>\n</div>`;\n\nexport class Actions extends InputItem {\n    static accept_input_types: string[] = [\"actions\"];\n\n    submit_value: string = null; // 提交表单时按钮组的value\n    constructor(spec: any, task_id: string, on_input_event: (event_name: string, input_item: InputItem) => void) {\n        super(spec, task_id, on_input_event);\n    }\n\n    create_element(): JQuery {\n        for (let b of this.spec.buttons) b['btn_type'] = b.type === \"submit\" ? \"submit\" : \"button\";\n\n        this.spec.color = \"primary\";  // default button color\n        const html = Mustache.render(buttons_tpl, this.spec);\n        this.element = $(html);\n        let btns = this.element.find('button');\n        for (let idx = 0; idx < this.spec.buttons.length; idx++)\n            btns.eq(idx).val(JSON.stringify(this.spec.buttons[idx].value));\n\n        let that = this;\n        this.element.find('button').on('click', function (e) {\n            let btn = $(this);\n            if (btn.data('type') === 'submit') {\n                // 不可以使用 btn.parents('form').submit()， 会导致input 的required属性失效\n                that.submit_value = JSON.parse(btn.val() as string);\n                if(that.spec.onchange)  // the `onchange` of spec will be only set in pin widget\n                    that.on_input_event(\"change\", that);\n            } else if (btn.data('type') === 'reset') {\n                btn.parents('form').trigger(\"reset\");\n            } else if (btn.data('type') === 'cancel') {\n                state.CurrentSession.send_message({\n                    event: \"from_cancel\",\n                    task_id: that.task_id,\n                    data: null\n                });\n            } else {\n                console.error(\"`actions` input: unknown button type '%s'\", btn.data('type'));\n            }\n        });\n\n        return this.element;\n    }\n\n    update_input(spec: any): any {\n        let attributes = spec.attributes;\n        let idx = -1;\n        if ('target_value' in spec) {\n            this.element.find('button').each(function (index) {\n                if (JSON.parse($(this).val() as string) === spec.target_value) {\n                    idx = index;\n                    return false;\n                }\n            });\n        }\n        this.update_input_helper(idx, attributes);\n    }\n\n    get_value(): any {\n        return this.submit_value;\n    }\n}\n\n\n\n","export class InputItem {\n    static accept_input_types: string[] = [];\n\n\n    on_input_event: (event_name: string, input_item: InputItem) => void;\n    spec: any;\n    task_id: string;\n\n    element: JQuery = null; // 在 create_element() 时赋值\n\n    constructor(spec: any, task_id: string, on_input_event: (event_name: string, input_item: InputItem) => void) {\n        this.spec = spec;\n        this.task_id = task_id;\n        this.on_input_event = on_input_event;\n    }\n\n    create_element(): JQuery {\n        throw new Error(\"Not implement!\");\n    }\n\n    update_input(spec: any): any {\n        throw new Error(\"Not implement!\");\n    }\n\n    // return a value or promise\n    get_value(): any {\n        throw new Error(\"Not implement!\");\n    }\n\n    // 检查输入项的有效性，在表单提交时调用\n    check_valid(): boolean {\n        this.update_input_helper(-1, {\n            'valid_status': 0, // remove the valid status\n        });\n        return true;\n    }\n\n    //在表单加入DOM树后触发\n    after_add_to_dom(): any {\n\n    }\n\n    //在表单被显示后触发\n    after_show(first_show: boolean): any {\n\n    }\n\n    // invoked when the form is reset\n    on_reset(e: any) {\n    }\n\n    /*\n    * input_idx: 更新作用对象input标签的索引, -1 为不指定对象\n    * attributes：更新值字典\n    * */\n    protected update_input_helper(input_idx: number, attributes: { [i: string]: any }) {\n        let attr2selector: { [i: string]: string } = {\n            'invalid_feedback': 'div.invalid-feedback',\n            'valid_feedback': 'div.valid-feedback',\n            'help_text': 'small.text-muted',\n            'label': '>label',\n        };\n        for (let attribute in attr2selector) {\n            if (attribute in attributes) {\n                this.element.find(attr2selector[attribute]).text(attributes[attribute]);\n                delete attributes[attribute];\n            }\n        }\n        let input_elem = this.element.find('input,select,textarea');\n        if (input_idx >= 0)\n            input_elem = input_elem.eq(input_idx);\n\n        if ('valid_status' in attributes) {\n            let class_name = attributes.valid_status ? 'is-valid' : 'is-invalid';\n            // valid_status为0/null时，表示清空valid_status标志\n            if (attributes.valid_status === 0 || attributes.valid_status === null) class_name = '';\n            input_elem.removeClass('is-valid is-invalid').addClass(class_name);\n            delete attributes.valid_status;\n        }\n        input_elem.prop(attributes);\n    }\n}\n\n\n\n","import {InputItem} from \"./base\";\nimport {deep_copy} from \"../../utils\"\n\nconst options_tpl = `\n{{#options}}\n<div class=\"form-check {{#inline}}form-check-inline{{/inline}}\">\n    <label class=\"form-check-label\" for=\"{{id_name_prefix}}-{{idx}}\">\n        <input type=\"{{type}}\" id=\"{{id_name_prefix}}-{{idx}}\" name=\"{{name}}\" {{#selected}}checked{{/selected}} {{#disabled}}disabled{{/disabled}} class=\"form-check-input\">\n        {{label}}\n    </label>\n</div>\n{{/options}}\n`;\n\nconst checkbox_radio_tpl = `\n<div class=\"form-group\">\n    {{#label}}<label>{{label}}</label>{{#inline}}<br>{{/inline}} {{/label}}\n    ${options_tpl}\n    <div class=\"invalid-feedback\">{{invalid_feedback}}</div> \n    <div class=\"valid-feedback\">{{valid_feedback}}</div>\n    <small id=\"{{id_name}}_help\" class=\"form-text text-muted\">{{help_text}}</small>\n</div>`;\n\nexport class CheckboxRadio extends InputItem {\n    static accept_input_types: string[] = [\"checkbox\", \"radio\"];\n\n    constructor(spec: any, task_id: string, on_input_event: (event_name: string, input_item: InputItem) => void) {\n        super(spec, task_id, on_input_event);\n    }\n\n    create_element(): JQuery {\n        let spec = this.setup_spec();\n        const html = Mustache.render(checkbox_radio_tpl, spec);\n        let elem = $(html);\n        this.setup_input_options(elem, spec.options);\n        this.element = elem;\n        return this.element;\n    }\n\n    setup_spec() {\n        let spec = deep_copy(this.spec);\n        const id_name_prefix = spec.name + '-' + Math.floor(Math.random() * Math.floor(9999));\n        spec['id_name_prefix'] = id_name_prefix;\n        for (let idx in spec.options) {\n            spec.options[idx]['idx'] = idx;\n        }\n        return spec;\n    }\n\n    setup_input_options(elem: JQuery, options: any) {\n        let inputs = elem.find('input');\n        for (let idx = 0; idx < options.length; idx++) {\n            let input_elem = inputs.eq(idx);\n            if(this.spec.onblur) {\n                input_elem.on(\"blur\", (e) => {\n                    this.on_input_event(\"blur\", this);\n                });\n            }\n            if(this.spec.onchange){\n                input_elem.on(\"change\", (e) => {\n                    this.on_input_event(\"change\", this);\n                });\n            }\n            input_elem.val(JSON.stringify(options[idx].value));\n            // 将额外的html参数加到input标签上\n            for (let key in options[idx]) {\n                if (key in {'value': '', 'label': '', 'selected': ''}) continue;\n                input_elem.attr(key, options[idx][key]);\n            }\n        }\n    }\n\n    update_input(spec: any): any {\n        let attributes = spec.attributes;\n        let idx = -1;\n        if ('target_value' in spec) {\n            this.element.find('input').each(function (index) {\n                if (JSON.parse($(this).val() as string) === spec.target_value) {\n                    idx = index;\n                    return false;\n                }\n            });\n        }\n\n        if ('value' in attributes) {\n            this.element.find('input:checked').prop('checked', false);\n            let values: any[] = attributes.value;\n            if (this.spec.type === 'radio') {\n                values = [attributes.value];\n            }\n            this.element.find('input').each(function (index) {\n                let item_val = JSON.parse($(this).val() as string);\n                if (values.indexOf(item_val) != -1) {\n                    $(this).prop('checked', true);\n                }\n            });\n            delete attributes['value'];\n        }\n\n        if ('options' in attributes) {\n            this.spec.options = attributes.options;\n            let spec = this.setup_spec();\n            const html = Mustache.render(options_tpl, spec);\n            this.element.find('.form-check').remove();\n            this.element.find('.invalid-feedback').before(html);\n            this.setup_input_options(this.element, spec.options);\n            delete attributes['options'];\n        }\n\n        if ('valid_status' in attributes) {\n            this.element.find('.invalid-feedback,.valid-feedback').hide();\n            if (attributes.valid_status === true)\n                this.element.find('.valid-feedback').show();\n            else if (attributes.valid_status === false)\n                this.element.find('.invalid-feedback').show();\n        }\n        this.update_input_helper(idx, attributes);\n    }\n\n    get_value(): any {\n        if (this.spec.type === 'radio') {\n            let raw_val = this.element.find('input:checked').val() || 'null';\n            return JSON.parse(raw_val as string);\n        } else {\n            let value_arr = this.element.find('input').serializeArray();\n            let res: any[] = [];\n            let that = this;\n            $.each(value_arr, function (idx, val) {\n                if (val.name === that.spec.name)\n                    res.push(JSON.parse(val.value as string));\n            });\n            return res;\n        }\n    }\n}\n\n\n\n","import {InputItem} from \"./base\";\nimport {deep_copy} from \"../../utils\";\nimport {t} from \"../../i18n\";\n\nconst file_input_tpl = `\n<div class=\"form-group\">\n    {{#label}}<label for=\"{{id_name}}\">{{label}}</label>{{/label}}\n    <div class=\"custom-file\">\n        <input type=\"file\" name=\"{{name}}\" class=\"custom-file-input\" id=\"{{id_name}}\" aria-describedby=\"{{id_name}}_help\">\n        <label class=\"custom-file-label\" for=\"{{id_name}}\" data-browse=\"{{browse_file}}\"><span>{{placeholder}}</span></label>\n        <div class=\"invalid-feedback\">{{invalid_feedback}}</div>  <!-- input 添加 is-invalid 类 -->\n        <div class=\"valid-feedback\">{{valid_feedback}}</div> <!-- input 添加 is-valid 类 -->\n        <small id=\"{{id_name}}_help\"  class=\"form-text text-muted\">{{help_text}}</small>\n    </div>\n</div>`;\n\nexport class FileUpload extends InputItem {\n    static accept_input_types: string[] = [\"file\"];\n\n    files: File[] = []; // Files to be uploaded\n    valid = true;\n\n    constructor(spec: any, task_id: string, on_input_event: (event_name: string, input_item: InputItem) => void) {\n        super(spec, task_id, on_input_event);\n    }\n\n    create_element(): JQuery {\n        let spec = deep_copy(this.spec);\n        const id_name = spec.name + '-' + Math.floor(Math.random() * Math.floor(9999));\n        spec['id_name'] = id_name;\n\n        const html = Mustache.render(file_input_tpl, {...spec, browse_file: t('browse_file')});\n        this.element = $(html);\n        let input_elem = this.element.find('input[type=\"file\"]');\n\n        const ignore_keys = {\n            'label': '',\n            'invalid_feedback': '',\n            'valid_feedback': '',\n            'help_text': '',\n            'placeholder': ''\n        };\n        for (let key in this.spec) {\n            if (key in ignore_keys) continue;\n            input_elem.attr(key, this.spec[key]);\n        }\n\n        // 文件选中后先不通知后端\n        let that = this;\n        input_elem.on('change', function () {\n            that.files = [];\n            let total_size = 0;\n            that.valid = true;\n            let file = (input_elem[0] as HTMLInputElement).files;\n            for (let f of file) {\n                total_size += f.size;\n\n                if (that.spec.max_size && f.size > that.spec.max_size) {\n                    that.valid = false;\n                    that.update_input_helper(-1, {\n                        'valid_status': false,\n                        'invalid_feedback': t(\"file_size_exceed\", f.name, that._formate_size(that.spec.max_size)),\n                    });\n                } else if (that.spec.max_total_size && total_size > that.spec.max_total_size) {\n                    that.valid = false;\n                    that.update_input_helper(-1, {\n                        'valid_status': false,\n                        'invalid_feedback': t(\"file_total_size_exceed\", that._formate_size(that.spec.max_total_size))\n                    });\n                    return;\n                }\n                if (!that.valid) return;\n                that.update_input_helper(-1, {'valid_status': 0});\n\n                that.files.push(f);\n            }\n\n            if (spec.onchange) {\n                that.on_input_event(\"change\", that);\n            }\n        });\n\n        return this.element;\n    }\n\n    _formate_size(size: number): string {\n        for (let s of ['Byte', 'Kb', 'Mb']) {\n            if (size / 1024 < 1)\n                return size.toFixed(2) + s;\n            size = size / 1024;\n        }\n        return size.toFixed(2) + 'Gb';\n    }\n\n    update_input(spec: any): any {\n        let attributes = spec.attributes;\n        this.update_input_helper(-1, attributes);\n    }\n\n    check_valid(): boolean {\n        return this.valid;\n    }\n\n    get_value(): any {\n        return {\n            multiple: this.spec.multiple,\n            files: this.files\n        }\n    }\n\n    after_add_to_dom(): any {\n        bsCustomFileInput.init();\n    }\n}\n\n\n\n","import {Input} from \"./input\"\nimport {Actions} from \"./actions\"\nimport {CheckboxRadio} from \"./checkbox_radio\"\nimport {Textarea} from \"./textarea\"\nimport {FileUpload} from \"./file\"\nimport {Select} from \"./select\"\nimport {Slider} from \"./slider\"\nimport {InputItem} from \"./base\";\n\n\nexport const all_input_items = [Input, Actions, CheckboxRadio, Textarea, FileUpload, Select, Slider];\n\nexport function get_input_item_from_type(type: string) {\n    return type2item[type];\n}\n\nlet type2item: { [t: string]: typeof InputItem } = {}\nfor (let item of all_input_items) {\n    for (let t of item.accept_input_types)\n        type2item[t] = item;\n}\n","import {InputItem} from \"./base\";\nimport {deep_copy, make_set} from \"../../utils\"\nimport {state} from \"../../state\";\n\nconst datalist_tpl = `\n{{#datalist}} \n<option>{{.}}</option> \n{{/datalist}}`;\n\nconst common_input_tpl = `\n<div class=\"form-group\">\n    {{#label}}<label for=\"{{id_name}}\">{{label}}</label>{{/label}}\n    {{#action}}<div class=\"input-group\">{{/action}} \n        <input type=\"{{type}}\" id=\"{{id_name}}\" aria-describedby=\"{{id_name}}_action_btn\" list=\"{{id_name}}-list\" class=\"form-control\" >\n        <datalist id=\"{{id_name}}-list\">\n            ${datalist_tpl}\n        </datalist>\n        {{#action}} \n        <div class=\"input-group-append\">\n            <button class=\"btn btn-outline-secondary single-input-action-btn\" type=\"button\" id=\"{{id_name}}_action_btn\" data-callbackid=\"{{callback_id}}\">{{label}}</button>\n        </div>\n        {{/action}} \n        <div class=\"invalid-feedback\">{{invalid_feedback}}</div>\n        <div class=\"valid-feedback\">{{valid_feedback}}</div>\n    {{#action}}</div>{{/action}} \n    <small id=\"{{id_name}}_help\" class=\"form-text text-muted\">{{help_text}}</small>\n</div>`;\n\n\nexport class Input extends InputItem {\n    static accept_input_types: string[] = [\"text\", \"password\", \"number\", \"float\", \"color\", \"date\", \"range\", \"time\", \"email\", \"url\", \"datetime-local\"];\n    previous_value = '';\n\n    constructor(spec: any, task_id: string, on_input_event: (event_name: string, input_item: InputItem) => void) {\n        super(spec, task_id, on_input_event);\n    }\n\n    create_element(): JQuery {\n        let spec = deep_copy(this.spec);\n        const id_name = spec.name + '-' + Math.floor(Math.random() * Math.floor(9999));\n        spec['id_name'] = id_name;\n        if (spec['type'] == 'float') spec['type'] = 'text';\n\n        let html = Mustache.render(common_input_tpl, spec);\n\n        this.element = $(html);\n\n        this.element.find(`#${id_name}_action_btn`).on('click', function (e) {\n            let btn = $(this);\n            state.CurrentSession.send_message({\n                event: \"callback\",\n                task_id: btn.data('callbackid') as string,\n                data: null\n            });\n        });\n\n        let input_elem = this.element.find('input');\n        if (spec.onblur) {\n            // blur事件时，发送当前值到服务器\n            input_elem.on(\"blur\", (e) => {\n                if (this.get_value())\n                    this.on_input_event(\"blur\", this);\n            });\n        }\n\n        input_elem.on(\"input\", (e) => {\n            this.rectify_input()\n            if (spec.onchange) {\n                this.on_input_event(\"change\", this);\n            }\n        });\n\n        // 将额外的html参数加到input标签上\n        const ignore_keys = make_set(['action', 'type', 'label', 'invalid_feedback', 'valid_feedback', 'help_text',\n            'options', 'datalist', 'multiple', 'onchange', 'onblur']);\n        for (let key in this.spec) {\n            if (key in ignore_keys) continue;\n            input_elem.attr(key, this.spec[key]);\n        }\n\n        return this.element;\n    }\n\n    rectify_input() {\n        let val = '' + this.element.find('input').val() as string;\n        let re;\n        if (this.spec['type'] == 'number') {\n            re = /^[+-]?\\d*$/;\n        } else if (this.spec['type'] == 'float') {\n            re = /^[+-]?\\d*\\.?\\d*$/;\n        }\n        if (re && !re.test(val)) {\n            this.element.find('input').val(this.previous_value);\n        } else {\n            this.previous_value = val;\n        }\n    }\n\n    // 检查输入项的有效性，在表单提交时调用\n    check_valid(): boolean {\n        let valid = !Number.isNaN(this.get_value()) || this.element.find('input').val() === '';\n        if (!valid) {\n            this.update_input_helper(-1, {\n                'valid_status': false\n            });\n        } else {\n            this.update_input_helper(-1, {\n                'valid_status': 0, // remove the valid status\n            });\n        }\n        return valid;\n    }\n\n    update_input(spec: any): any {\n        let attributes = spec.attributes;\n        if ('datalist' in attributes) {\n            const datalist_html = Mustache.render(datalist_tpl, {datalist: attributes.datalist});\n            this.element.find('datalist').empty().append(datalist_html);\n            delete attributes['datalist'];\n        }\n\n        this.update_input_helper(-1, attributes);\n    }\n\n    get_value(): any {\n        this.rectify_input()\n        let val = this.element.find('input').val();\n        if (this.spec['type'] == 'number')\n            val = parseInt(val as string);\n        else if (this.spec['type'] == 'float')\n            val = parseFloat(val as string);\n        return val;\n    }\n}\n\n","import {InputItem} from \"./base\";\nimport {deep_copy, is_mobile, make_set} from \"../../utils\"\n\nconst options_tpl = `\n{{#options}}\n<option {{#selected}}selected{{/selected}} {{#disabled}}disabled{{/disabled}}>{{label}}</option>\n{{/options}}\n`;\nconst select_input_tpl = `\n<div class=\"form-group\">\n    {{#label}}<label for=\"{{id_name}}\">{{label}}</label>{{/label}}\n    <select id=\"{{id_name}}\" aria-describedby=\"{{id_name}}_help\" class=\"form-control\" {{#multiple}}multiple{{/multiple}}>\n        ${options_tpl}\n    </select>\n    <div class=\"invalid-feedback\">{{invalid_feedback}}</div>\n    <div class=\"valid-feedback\">{{valid_feedback}}</div>\n    <small id=\"{{id_name}}_help\" class=\"form-text text-muted\">{{help_text}}</small>\n</div>`;\n\n// @ts-ignore\n$.fn.selectpicker.Constructor.BootstrapVersion = '4';\n\nexport class Select extends InputItem {\n    static accept_input_types: string[] = [\"select\"];\n\n    use_bootstrap_select: boolean = false;\n\n    constructor(spec: any, task_id: string, on_input_event: (event_name: string, input_item: InputItem) => void) {\n        super(spec, task_id, on_input_event);\n        if (spec.native === false || (spec.native === undefined && spec.multiple && !is_mobile())) {\n            this.use_bootstrap_select = true;\n        }\n    }\n\n    create_element(): JQuery {\n        let spec = deep_copy(this.spec);\n        const id_name = spec.name + '-' + Math.floor(Math.random() * Math.floor(9999));\n        spec['id_name'] = id_name;\n\n        let html = Mustache.render(select_input_tpl, spec);\n        this.element = $(html);\n        this.setup_select_options(this.element, spec.options);\n\n        if (this.use_bootstrap_select) {\n            // @ts-ignore\n            this.element.find('select').selectpicker();\n        }\n\n        if (spec.onblur) {\n            // blur事件时，发送当前值到服务器\n            this.element.find('select').on(\"blur\", (e) => {\n                this.on_input_event(\"blur\", this);\n            });\n        }\n        if (spec.onchange) {\n            this.element.find('select').on(\"change\", (e) => {\n                this.on_input_event(\"change\", this);\n            });\n        }\n        return this.element;\n    }\n\n    setup_select_options(elem: JQuery, options: any) {\n        let input_elem = elem.find('select');\n        let opts = input_elem.find('option');\n        for (let idx = 0; idx < options.length; idx++)\n            opts.eq(idx).val(JSON.stringify(options[idx].value));\n\n        // 将额外的html参数加到input标签上\n        const ignore_keys = make_set(['type', 'label', 'invalid_feedback', 'valid_feedback', 'help_text',\n            'options', 'datalist', 'multiple', 'onchange', 'onblur'])\n\n        for (let key in this.spec) {\n            if (key in ignore_keys) continue;\n            input_elem.attr(key, this.spec[key]);\n        }\n\n        if (this.use_bootstrap_select) {\n            // @ts-ignore\n            input_elem.selectpicker('refresh');\n        }\n    }\n\n    update_input(spec: any): any {\n        let attributes = spec.attributes;\n\n        if ('options' in attributes) {\n            const opts_html = Mustache.render(options_tpl, {options: attributes.options});\n            this.element.find('select').empty().append(opts_html);\n            this.setup_select_options(this.element, attributes.options);\n            delete attributes['options'];\n        }\n\n        if ('value' in attributes) {\n            this.element.find('option').prop('selected', false);\n            let values: any[] = attributes.value;\n            if (!this.spec.multiple) {\n                values = [attributes.value];\n            }\n            this.element.find('option').each(function (index) {\n                let item_val = JSON.parse($(this).val() as string);\n                if (values.indexOf(item_val) != -1) {\n                    $(this).prop('selected', true);\n                }\n            });\n            if (this.use_bootstrap_select) {\n                // @ts-ignore\n                this.element.find('select').selectpicker('render');\n            }\n            delete attributes['value'];\n        }\n\n        this.update_input_helper(-1, attributes);\n    }\n\n    on_reset(e: any) {\n        // need to wait some time to get the select element be reset, and then update `selectpicker`\n        if (this.use_bootstrap_select)\n            setTimeout(() => {\n                // @ts-ignore\n                this.element.find('select').selectpicker('render');\n            }, 100)\n    }\n\n    get_value(): any {\n        let raw_val = this.element.find('select').val();\n        if (this.spec.multiple) {\n            let res: any[] = [];\n            for (let i of (raw_val as string[]))\n                res.push(JSON.parse(i));\n            return res;\n        } else {\n            return JSON.parse(raw_val as string);\n        }\n    }\n}\n\n","import {InputItem} from \"./base\";\nimport {deep_copy, make_set} from \"../../utils\";\n\nconst slider_input_tpl = `\n<div class=\"form-group\">\n    {{#label}}<label for=\"{{id_name}}\">{{label}}</label>{{/label}}\n    <input type=\"range\" class=\"form-control-range\" name=\"{{name}}\" min=\"{{min_value}}\" max=\"{{max_value}}\" value=\"{{value}}\" id=\"{{id_name}}\" step=\"{{step}}\">\n    <small class=\"form-control-range-value\"></small>\n    <div class=\"invalid-feedback\">{{invalid_feedback}}</div>\n    <div class=\"valid-feedback\">{{valid_feedback}}</div>\n    <small id=\"{{id_name}}_help\" class=\"form-text text-muted\">{{help_text}}</small>\n</div>`;\n\nexport class Slider extends InputItem {\n    static accept_input_types: string[] = [\"slider\"];\n\n    files: Blob[] = []; // Files to be uploaded\n    valid = true;\n\n    constructor(spec: any, task_id: string, on_input_event: (event_name: string, input_item: InputItem) => void) {\n        super(spec, task_id, on_input_event);\n    }\n\n    create_element(): JQuery {\n        let spec = deep_copy(this.spec);\n        spec['id_name'] = spec.name + '-' + Math.floor(Math.random() * Math.floor(9999));\n\n        const html = Mustache.render(slider_input_tpl, spec);\n        this.element = $(html);\n        let input_elem = this.element.find('input[type=\"range\"]');\n\n        const ignore_keys = make_set(['value', 'step', 'type', 'label', 'invalid_feedback', 'valid_feedback',\n            'help_text', 'min_value', 'max_value', 'id_name', 'name', 'float', 'onchange', 'onblur']);\n        for (let key in this.spec) {\n            if (key in ignore_keys) continue;\n            input_elem.attr(key, this.spec[key]);\n        }\n\n        let range_value = this.element.find('.form-control-range-value');\n        range_value.text(\n            this.spec['float'] ? this.get_value().toFixed(2) : this.get_value()\n        );\n        input_elem.on(\"input\", (e) => {\n            range_value.text(\n                this.spec['float'] ? this.get_value().toFixed(2) : this.get_value()\n            );\n        });\n\n\n        if (spec.onblur) {\n            // blur事件时，发送当前值到服务器\n            input_elem.on(\"blur\", (e) => {\n                this.on_input_event(\"blur\", this);\n            });\n        }\n        if (spec.onchange) {\n            input_elem.on(\"change\", (e) => {\n                this.on_input_event(\"change\", this);\n            });\n        }\n\n        return this.element;\n    }\n\n    update_input(spec: any): any {\n        let attributes = spec.attributes;\n        if ('value' in attributes) {\n            let range_value = this.element.find('.form-control-range-value');\n            range_value.text(\n                this.spec['float'] ? this.get_value().toFixed(2) : attributes.value\n            );\n        }\n        this.update_input_helper(-1, attributes);\n    }\n\n    get_value(): any {\n        let val = this.element.find('input[type=\"range\"]').val();\n        if (this.spec['float'])\n            val = parseFloat(val as string);\n        else\n            val = parseInt(val as string);\n        return val;\n    }\n\n}\n\n\n\n","import {InputItem} from \"./base\";\nimport {deep_copy, make_set} from \"../../utils\"\nimport {config as appConfig} from \"../../state\";\n\n\nconst textarea_input_tpl = `\n<div class=\"form-group\">\n    {{#label}}<label for=\"{{id_name}}\">{{label}}</label>{{/label}}\n    <textarea id=\"{{id_name}}\" aria-describedby=\"{{id_name}}_help\" rows=\"{{rows}}\" class=\"form-control\" >{{value}}</textarea>\n    <div class=\"invalid-feedback\">{{invalid_feedback}}</div>  <!-- input 添加 is-invalid 类 -->\n    <div class=\"valid-feedback\">{{valid_feedback}}</div> <!-- input 添加 is-valid 类 -->\n    <small id=\"{{id_name}}_help\" class=\"form-text text-muted\">{{help_text}}</small>\n</div>`;\n\n\nexport class Textarea extends InputItem {\n    static accept_input_types: string[] = [\"textarea\"];\n\n    private code_mirror: any = null;\n    private code_mirror_config: { [name: string]: any } = {\n        'lineNumbers': true,  // 显示行数\n        'indentUnit': 4,  //缩进单位为4\n        'styleActiveLine': true,  // 当前行背景高亮\n        'matchBrackets': true,  //括号匹配\n        'lineWrapping': true,  //自动换行\n        'autoRefresh': true,  // https://codemirror.net/doc/manual.html#addon_autorefresh\n        'extraKeys': {\n            // Full Screen Editing, https://codemirror.net/demo/fullscreen.html\n            \"F11\": function (cm: any) {\n                cm.setOption(\"fullScreen\", !cm.getOption(\"fullScreen\"));\n            },\n            \"Esc\": function (cm: any) {\n                cm.setOption(\"fullScreen\", !cm.getOption(\"fullScreen\"));\n            }\n        }\n    };\n\n    constructor(spec: any, task_id: string, on_input_event: (event_name: string, input_item: InputItem) => void) {\n        super(spec, task_id, on_input_event);\n    }\n\n    create_element() {\n        let that = this;\n\n        let spec = deep_copy(this.spec);\n        spec['id_name'] = spec.name + '-' + Math.floor(Math.random() * Math.floor(9999));\n        let html = Mustache.render(textarea_input_tpl, spec);\n        this.element = $(html);\n        let input_elem = this.element.find('textarea');\n\n        // blur事件时，发送当前值到服务器\n        // input_elem.on('blur', this.send_value_listener);\n        if (spec.onchange) {\n            input_elem.on(\"input\", (e) => {\n                this.on_input_event(\"change\", this);\n            });\n        }\n\n        // 将额外的html参数加到input标签上\n        let ignore_keys = make_set(['value', 'type', 'label', 'invalid_feedback', 'valid_feedback',\n            'help_text', 'rows', 'code', 'onchange']);\n        if (spec.code && spec.required) {\n            ignore_keys['required'] = '';\n        }\n        for (let key in this.spec) {\n            if (key in ignore_keys) continue;\n            input_elem.attr(key, this.spec[key]);\n        }\n        if (spec.code) {\n            if (spec.code === true) spec.code = {mode: 'text/plain'};\n            CodeMirror.modeURL = appConfig.codeMirrorModeURL;\n\n            for (let k in that.spec.code)\n                this.code_mirror_config[k] = that.spec.code[k];\n\n            // Get mode name by extension or MIME\n            let origin_mode = spec.code.mode || 'text/plain';\n            let mode_info = CodeMirror.findModeByExtension(origin_mode) || CodeMirror.findModeByMIME(origin_mode);\n            if (mode_info)\n                this.code_mirror_config.mode = mode_info.mode;\n\n            if (that.spec.readonly || that.spec.disabled)\n                this.code_mirror_config['readOnly'] = \"nocursor\";\n\n            if (this.code_mirror_config.theme && this.code_mirror_config.theme !== 'base16-light')\n                Textarea.load_codemirror_theme(this.code_mirror_config.theme);\n        }\n\n        return this.element;\n    };\n\n    update_input(spec: any) {\n        let attributes = spec.attributes;\n        if (this.code_mirror && 'value' in attributes) {\n            this.code_mirror.setValue(attributes['value']);\n            delete attributes['value'];\n        }\n\n        this.update_input_helper.call(this, -1, attributes);\n    };\n\n    get_value() {\n        if (this.code_mirror)\n            return this.code_mirror.getValue();\n\n        return this.element.find('textarea').val();\n    };\n\n    check_valid(): boolean {\n        if (this.code_mirror && this.spec.required && !this.get_value()) {\n            this.update_input_helper(-1, {\n                'valid_status': false,\n                'invalid_feedback': \"Please fill out this field.\",\n            });\n            return false;\n        }\n        return true;\n    }\n\n    after_show(first_show: boolean): any {\n        if (first_show && this.spec.code) {\n            this.code_mirror = CodeMirror.fromTextArea(this.element.find('textarea')[0], this.code_mirror_config);\n            if (CodeMirror.autoLoadMode) {\n                try {\n                    CodeMirror.autoLoadMode(this.code_mirror, this.code_mirror_config.mode);\n                } catch (e) {\n                    console.error('CodeMirror load mode `%s` error: %s', this.code_mirror_config.mode, e);\n                }\n            }\n            if (this.spec.onchange)\n                this.code_mirror.on('change', (instance: object, changeObj: any) => {\n                    if (changeObj.origin !== 'setValue')  // https://github.com/pywebio/PyWebIO/issues/459\n                        this.on_input_event(\"change\", this);\n                })\n            this.code_mirror.setSize(null, 20 * this.spec.rows);\n        }\n    };\n\n    static load_codemirror_theme(theme: string, url_tpl = appConfig.codeMirrorThemeURL) {\n        let cssId = 'codemirror_theme_' + theme;  // you could encode the css path itself to generate id..\n        if (!document.getElementById(cssId)) {\n            let head = document.getElementsByTagName('head')[0];\n            let link = document.createElement('link');\n            link.id = cssId;\n            link.rel = 'stylesheet';\n            link.type = 'text/css';\n            link.href = url_tpl.replace('%N', theme);\n            link.media = 'all';\n            head.appendChild(link);\n        }\n    }\n}\n\n\n\n","import {b64toBlob, randomid} from \"../utils\";\nimport * as marked from 'marked';\nimport {pushData} from \"../session\";\nimport {PinWidget} from \"./pin\";\nimport {t} from \"../i18n\";\nimport {AfterCurrentOutputWidgetShow} from \"../handlers/output\";\nimport {Datatable} from \"./datatable\";\n\nexport interface Widget {\n    handle_type: string;\n\n    get_element(spec: any): JQuery;  // The length of element must equal 1\n}\n\nlet Text = {\n    handle_type: 'text',\n    get_element: function (spec: any): JQuery {\n        let elem = spec.inline ? $('<span></span>') : $('<p></p>');\n        elem.attr('style', 'white-space: pre-wrap;');\n        elem.append(document.createTextNode(spec.content));\n        return elem;\n    }\n};\n\nmarked.setOptions({\n    breaks: true, //可行尾不加两空格直接换行\n    smartLists: true,\n    smartypants: false,\n    mangle: false,\n    highlight: function (code, lang, callback) {\n        if (Prism.languages[lang]) {\n            try {\n                code = Prism.highlight(code, Prism.languages[lang]);\n            } catch (e) {\n                console.error('Prism highlight error:' + e)\n            }\n        }\n        if (callback)\n            return callback(null, code);\n        else\n            return code;\n    },\n});\n\nlet Markdown = {\n    handle_type: 'markdown',\n    get_element: function (spec: any) {\n        // spec.options, see also https://marked.js.org/using_advanced#options\n        let html_str = marked(spec.content, spec.options);\n        if (spec.sanitize)\n            try {\n                html_str = DOMPurify.sanitize(html_str);\n            } catch (e) {\n                console.log('Sanitize html failed: %s\\nHTML: \\n%s', e, html_str);\n            }\n        return $(html_str);\n    }\n};\n\n// 将html字符串解析成jQuery对象\nfunction parseHtml(html_str: string) {\n    let nodes = $.parseHTML(html_str.trim(), null, true);\n    let elem;\n    if (nodes.length != 1)\n        elem = $(document.createElement('div')).append(nodes);\n    else\n        elem = $(nodes[0]);\n    return elem;\n}\n\nlet Html = {\n    handle_type: 'html',\n    get_element: function (spec: any) {\n        let html_str = spec.content;\n        if (spec.sanitize)\n            try {\n                html_str = DOMPurify.sanitize(html_str);\n            } catch (e) {\n                console.log('Sanitize html failed: %s\\nHTML: \\n%s', e, html_str);\n            }\n        return parseHtml(html_str);\n    }\n};\n\nlet Buttons = {\n    handle_type: 'buttons',\n    get_element: function (spec: any) {\n        const btns_tpl = `<div{{#group}} class=\"btn-group\" role=\"group\"{{/group}}>{{#buttons}} \n                                <button class=\"btn {{#color}}btn-{{#outline}}outline-{{/outline}}{{color}}{{/color}}{{#small}} btn-sm{{/small}}\" {{#disabled}}disabled{{/disabled}}>{{label}}</button> \n                          {{/buttons}}</div>`;\n        spec.color = \"primary\";  // fallback color\n        if (spec.link) {\n            spec.outline = false;\n            for (let btn of spec.buttons)\n                btn.color = 'link';\n        }\n\n        let html = Mustache.render(btns_tpl, spec);\n        let elem = $(html);\n\n        let btns = elem.find('button');\n        for (let idx = 0; idx < spec.buttons.length; idx++) {\n            btns.eq(idx).on('click', (e) => {\n                pushData(spec.buttons[idx].value, spec.callback_id);\n            });\n        }\n\n        return elem;\n    }\n};\n\n// 已废弃。为了向下兼容而保留\nlet File = {\n    handle_type: 'file',\n    get_element: function (spec: any) {\n        const html = `<div><button type=\"button\" class=\"btn btn-link\">${spec.name}</button></div>`;\n        let element = $(html);\n        let blob = b64toBlob(spec.content);\n        element.on('click', 'button', function (e) {\n            saveAs(blob, spec.name, {}, false);\n        });\n\n        return element;\n    }\n};\n\n\nlet Table = {\n    handle_type: 'table',\n    get_element: function (spec: { data: any[][], span: { [i: string]: { col: number, row: number } } }) {\n        const table_tpl = `\n<table>\n    <tr>\n        {{#header}} \n        <th{{#col}} colspan=\"{{col}}\"{{/col}}{{#row}} rowspan=\"{{row}}\"{{/row}}>{{#content}}{{& pywebio_output_parse}}{{/content}}</th> \n        {{/header}}\n    </tr>\n      {{#tdata}} \n      <tr>\n        {{# . }} \n        <td{{#col}} colspan=\"{{col}}\"{{/col}}{{#row}} rowspan=\"{{row}}\"{{/row}}>{{#content}}{{& pywebio_output_parse}}{{/content}}</td> \n        {{/ . }} \n      </tr>\n      {{/tdata}}\n    \n</table>`;\n\n        interface itemType {\n            content: any, // spec of sub-output\n            col?: number,\n            row?: number\n        }\n\n        // 将spec转化成模版引擎的输入\n        let table_data: itemType[][] = [];\n        for (let row_id in spec.data) {\n            table_data.push([]);\n            let row = spec.data[row_id];\n            for (let col_id in row) {\n                let data = spec.data[row_id][col_id];\n\n                // 处理简单类型单元格，即单元格不是output命令的spec\n                if (typeof data !== 'object') {\n                    data = {type: 'text', content: data, inline: true};\n                }\n\n                table_data[row_id].push({\n                    content: data,\n                    ...(spec.span[row_id + ',' + col_id] || {})\n                });\n            }\n        }\n\n        let header: itemType[], data: itemType[][];\n        [header, ...data] = table_data;\n        return render_tpl(table_tpl, {header: header, tdata: data});\n    }\n};\n\nconst TABS_TPL = `<div class=\"webio-tabs\">\n{{#tabs}}\n    <input type=\"radio\" class=\"toggle\" name=\"{{#uniqueid}}name{{/uniqueid}}\" id=\"{{#uniqueid}}name{{/uniqueid}}{{index}}\" {{#checked}}checked{{/checked}}>\n    <label for=\"{{#uniqueid}}name{{/uniqueid}}{{index}}\">{{title}}</label>\n    <div class=\"webio-tabs-content\">\n    {{#content}}\n        {{& pywebio_output_parse}}\n    {{/content}}\n    </div>\n{{/tabs}}\n</div>`;\n\nlet TabsWidget = {\n    handle_type: 'tabs',\n    get_element: function (spec: { tabs: { title: string, content: any, index: number, checked: boolean }[] }) {\n        spec.tabs[0]['checked'] = true;\n        for (let idx = 0; idx < spec.tabs.length; idx++) {\n            spec.tabs[idx]['index'] = idx;\n        }\n\n        return render_tpl(TABS_TPL, spec);\n    }\n};\n\nconst SCROLLABLE_TPL = `<div>\n<div class=\"webio-scrollable{{#border}} scrollable-border{{/border}}\" {{#keep_bottom}}tabindex=\"0\"{{/keep_bottom}} \n    style=\"{{#min_height}}min-height: {{min_height}}px;{{/min_height}} {{#max_height}}max-height: {{max_height}}px;{{/max_height}}\">\n    {{#contents}}\n        {{& pywebio_output_parse}}\n    {{/contents}}\n</div>\n</div>`;\n\nlet ScrollableWidget = {\n    handle_type: 'scrollable',\n    get_element: function (spec: {\n        contents: any, min_height: string, max_height: string, keep_bottom: boolean, border: boolean\n    }) {\n        let elem = render_tpl(SCROLLABLE_TPL, spec);\n        let container = elem.find('> div');\n        if (spec.keep_bottom) {\n            let stop = false;\n            container.on('focusin mouseenter', function (e) {\n                stop = true\n            }).on('focusout mouseleave', function (e) {\n                stop = false\n            });\n            new MutationObserver(function (mutations, observe) {\n                if (!stop) container.stop().animate({scrollTop: container.prop(\"scrollHeight\")}, 200);\n            }).observe(container[0], {childList: true, subtree: true});\n        }\n        return elem;\n    }\n};\n\n\nconst SCOPE_TPL = `<div>\n    {{#contents}}\n        {{& pywebio_output_parse}}\n    {{/contents}}\n</div>`;\nlet ScopeWidget = {\n    handle_type: 'scope',\n    get_element: function (spec: { dom_id: string, contents: any[] }) {\n        let elem = render_tpl(SCOPE_TPL, spec);\n        // need to check the duplicate id after current output widget shown.\n        // because the current widget may have multiple sub-widget which have same dom id.\n        AfterCurrentOutputWidgetShow(() => {\n            if ($(`#${spec.dom_id}`).length !== 0) {\n                let tip = `<p style=\"color: grey; border:1px solid #ced4da; padding: .375rem .75rem;\">${t(\"duplicated_scope_name\")}</p>`;\n                elem.empty().html(tip);\n            } else {\n                elem.attr('id', spec.dom_id);\n            }\n        })\n        return elem;\n    }\n};\n\n\nlet CustomWidget = {\n    handle_type: 'custom_widget',\n    get_element: function (spec: { template: string, data: { [i: string]: any } }) {\n        return render_tpl(spec.template, spec.data);\n    }\n};\n\nlet all_widgets: Widget[] = [Text, Markdown, Html, Buttons, File, Table, CustomWidget, TabsWidget, PinWidget,\n    ScopeWidget, ScrollableWidget, Datatable];\n\n\nlet type2widget: { [i: string]: Widget } = {};\nfor (let w of all_widgets)\n    type2widget[w.handle_type] = w;\n\nexport function getWidgetElement(spec: any) {\n    if (!(spec.type in type2widget))\n        throw Error(\"Unknown type in getWidgetElement() :\" + spec.type);\n\n    let elem = type2widget[spec.type].get_element(spec);\n    if (elem.length != 1)\n        elem = $(document.createElement('div')).append(elem);\n\n    if (spec.style) {\n        // add style attribute\n        let old_style = elem.attr('style') || '';\n        elem.attr({\"style\": old_style + ';' + spec.style});\n    }\n    if (spec.click_callback_id) {\n        elem.on('click', (e) => {\n            pushData(null, spec.click_callback_id);\n        });\n        elem.addClass('pywebio-clickable');\n    }\n    if (spec.container_dom_id) {\n        if (spec.container_selector)\n            elem.find(spec.container_selector).attr('id', spec.container_dom_id);\n        else\n            elem.attr('id', spec.container_dom_id);\n    }\n    return elem;\n}\n\n\nexport function render_tpl(tpl: string, data: { [i: string]: any }) {\n    let placeholder2spec: { [name: string]: any } = {};\n\n    // {{#content}}{{& pywebio_output_parse}}{{/content}}\n    data['pywebio_output_parse'] = function () {\n        if (!this.type)\n            return getWidgetElement({type: 'text', content: this, inline: true})[0].outerHTML;\n        let dom_id = 'ph-' + randomid(10);\n        placeholder2spec[dom_id] = this;\n        return `<div id=\"${dom_id}\"></div>`;\n    };\n\n    // {{#uniqueid}}name{{/uniqueid}}\n    // {{uniqueid}}\n    let names2id: { [name: string]: any } = {};\n    data['uniqueid'] = function () {\n        return function (name: string) {\n            if (name) {\n                if (!(name in names2id))\n                    names2id[name] = 'webio-' + randomid(10);\n\n                return names2id[name];\n            } else {\n                return 'webio-' + randomid(10);\n            }\n        };\n    };\n\n    // count the function call number\n    // {{index}}\n    let cnt = 0;\n    data['index'] = function () {\n        cnt += 1;\n        return cnt;\n    };\n\n    let html = Mustache.render(tpl, data);\n    let elem = parseHtml(html);\n    for (let dom_id in placeholder2spec) {\n        let spec = placeholder2spec[dom_id];\n        try {\n            let sub_elem = getWidgetElement(spec);\n            elem.find(`#${dom_id}`).replaceWith(sub_elem);\n        } catch (e) {\n            console.error('Error when render widget: \\n%s\\nSPEC:%s', e, JSON.stringify(spec));\n        }\n    }\n    return elem;\n}","import {get_input_item_from_type} from \"./input/index\"\nimport {InputItem} from \"./input/base\";\nimport {t} from \"../i18n\";\nimport {AfterCurrentOutputWidgetShow} from \"../handlers/output\";\nimport {randomid} from \"../utils\";\nimport {pushData} from \"../session\";\n\n\nlet name2input: { [k: string]: InputItem } = {};\n\nexport function IsFileInput(name: string): boolean {\n    return name2input[name] !== undefined && name2input[name].spec.type == \"file\";\n}\n\nexport function GetPinValue(name: string) {\n    if (name2input[name] == undefined || !document.contains(name2input[name].element[0]))\n        return undefined;\n    return name2input[name].get_value();\n}\n\nexport function PinUpdate(name: string, attributes: { [k: string]: any }) {\n    name2input[name].update_input({attributes: attributes});\n}\n\nlet disposable_onchange_callbacks: { [name: string]: { [callback_id: string]: ((val: any) => void) } } = {}; // name->{callback_id->callback}\nlet resident_onchange_callbacks: { [name: string]: ((val: any) => void)[] } = {}; // name->[]\n\nexport function WaitChange(names: string[], timeout: number) {\n    let promises = [];\n    let callback_ids: { [name: string]: string } = {};\n    for (let name of names) {\n        promises.push(new Promise(resolve => {\n            callback_ids[name] = register_on_change(name, value => {\n                resolve({'name': name, 'value': value})\n            });\n        }));\n    }\n    if (timeout) {\n        promises.push(new Promise(resolve => {\n            setTimeout(() => {\n                resolve(null);\n            }, timeout * 1000);\n        }));\n    }\n    return Promise.race(promises).then((val) => {\n        for (let name of names) {\n            let callback_id = callback_ids[name];\n            delete disposable_onchange_callbacks[name][callback_id];\n        }\n        return val;\n    });\n}\n\nexport function PinChangeCallback(name: string, callback: null | ((val: any) => void), clear: boolean) {\n    if (!(name in resident_onchange_callbacks) || clear)\n        resident_onchange_callbacks[name] = [];\n\n    if (callback) {\n        resident_onchange_callbacks[name].push(callback)\n    }\n}\n\nfunction register_on_change(name: string, callback: (val: any) => void): string {\n    let callback_id = randomid(10);\n    if (!(name in disposable_onchange_callbacks))\n        disposable_onchange_callbacks[name] = {};\n    disposable_onchange_callbacks[name][callback_id] = callback;\n    return callback_id;\n}\n\nfunction trigger_onchange_event(name: string, value: any) {\n    let resolve_list = disposable_onchange_callbacks[name] || {};\n    Object.keys(resolve_list).forEach(callback_id => {\n        let resolve = resolve_list[callback_id];\n        resolve(value);\n    })\n    for (let resolve of (resident_onchange_callbacks[name] || [])) {\n        resolve(value);\n    }\n}\n\nexport let PinWidget = {\n    handle_type: 'pin',\n    get_element: function (spec: any) {\n        let input_spec = spec.input;\n        if (input_spec.name in name2input) {\n            let tip = `<p style=\"color: grey; border:1px solid #ced4da; padding: .375rem .75rem;\">${t(\"duplicated_pin_name\")}</p>`;\n            name2input[input_spec.name].element.replaceWith(tip);\n        }\n\n        input_spec.onchange = true;\n        input_spec.onblur = true;\n        let InputClass = get_input_item_from_type(input_spec.type);\n        let input_item = new InputClass(input_spec, null, (event, input_item) => {\n            if (event == 'change')\n                trigger_onchange_event(input_spec.name, input_item.get_value());\n        });\n\n        name2input[input_spec.name] = input_item;\n\n        AfterCurrentOutputWidgetShow(() => {\n            input_item.after_add_to_dom();\n            input_item.after_show(true);\n        });\n\n        return input_item.create_element();\n    }\n};\n\n\n","import {error_alert, randomid, ReliableSender} from \"./utils\";\nimport {state} from \"./state\";\nimport {t} from \"./i18n\";\n\nexport interface Command {\n    command: string\n    task_id: string\n    spec: any\n}\n\nexport interface ClientEvent {\n    event: string,\n    task_id: string,\n    data: any\n}\n\n\n/*\n* 会话\n* 向外暴露的事件：on_session_create、on_session_close、on_server_message\n* 提供的函数：start_session、send_message、close_session\n* */\nexport interface Session {\n    webio_session_id: string;\n\n    on_session_create(callback: () => void): void;\n\n    on_session_close(callback: () => void): void;\n\n    on_server_message(callback: (msg: Command) => void): void;\n\n    start_session(debug: boolean): void;\n\n    send_message(msg: ClientEvent, onprogress?: (loaded: number, total: number) => void): void;\n\n    send_buffer(data: Blob, onprogress?: (loaded: number, total: number) => void): void;\n\n    close_session(): void;\n\n    closed(): boolean;\n}\n\nfunction safe_poprun_callbacks(callbacks: (() => void)[], name = 'callback') {\n    while (callbacks.length)\n        try {\n            callbacks.pop().call(this);\n        } catch (e) {\n            console.log('Error in %s: %s', name, e);\n        }\n}\n\nexport class WebSocketSession implements Session {\n    ws: WebSocket;\n    debug: boolean;\n    webio_session_id: string = 'NEW';\n    private _closed: boolean; // session logic closed (by `close_session` command)\n    private _session_create_ts = 0;\n    private _session_create_callbacks: (() => void)[] = [];\n    private _session_close_callbacks: (() => void)[] = [];\n    private _on_server_message: (msg: Command) => any = () => {\n    };\n\n    constructor(public ws_api: string, public app_name: string = 'index') {\n        this.ws = null;\n        this.debug = false;\n        this._closed = false;\n    }\n\n    set_ws_api() {\n        let url = new URL(this.ws_api);\n        if (url.protocol !== 'wss:' && url.protocol !== 'ws:') {\n            let protocol = url.protocol || window.location.protocol;\n            url.protocol = protocol.replace('https', 'wss').replace('http', 'ws');\n        }\n        url.search = `?app=${this.app_name}&session=${this.webio_session_id}`;\n        this.ws_api = url.href;\n    }\n\n    on_session_create(callback: () => any): void {\n        this._session_create_callbacks.push(callback);\n    };\n\n    on_session_close(callback: () => any): void {\n        this._session_close_callbacks.push(callback);\n    }\n\n    on_server_message(callback: (msg: Command) => any): void {\n        this._on_server_message = callback;\n    }\n\n    start_session(debug: boolean = false): void {\n        let that = this;\n\n        this.set_ws_api();\n\n        this._session_create_ts = Date.now();\n        this.debug = debug;\n        this.ws = new WebSocket(this.ws_api);\n        this.ws.onopen = () => {\n            safe_poprun_callbacks(this._session_create_callbacks, 'session_create_callback');\n        };\n\n        this.ws.onclose = function (evt) {\n            if (!that._closed && that.webio_session_id != 'NEW') {  // not receive `close_session` command && enabled reconnection\n                const session_create_interval = 5000;\n                if (Date.now() - that._session_create_ts > session_create_interval)\n                    that.start_session(that.debug);\n                else\n                    setTimeout(() => {\n                        that.start_session(that.debug);\n                    }, session_create_interval - Date.now() + that._session_create_ts);\n            } else {\n                that.close_session();\n            }\n        };\n        this.ws.onmessage = function (evt) {\n            let msg: Command = JSON.parse(evt.data);\n            if (debug) console.info('>>>', JSON.parse(evt.data));\n            that._on_server_message(msg);\n        };\n    }\n\n    start_onprogress(onprogress?: (loaded: number, total: number) => void): void {\n        let total = this.ws.bufferedAmount;\n        let onprogressID = setInterval(() => {\n            let loaded = total - this.ws.bufferedAmount;\n            onprogress(loaded, total);\n            if (this.ws.bufferedAmount == 0)\n                clearInterval(onprogressID);\n        }, 200);\n    }\n\n    send_message(msg: ClientEvent, onprogress?: (loaded: number, total: number) => void): void {\n        if (this.closed())\n            return error_alert(t(\"disconnected_with_server\"));\n\n        if (this.ws === null)\n            return console.error('WebSocketWebIOSession.ws is null when invoke WebSocketWebIOSession.send_message. ' +\n                'Please call WebSocketWebIOSession.start_session first');\n        this.ws.send(JSON.stringify(msg));\n\n        if (onprogress)\n            this.start_onprogress(onprogress);\n\n        if (this.debug) console.info('<<<', msg);\n    }\n\n    send_buffer(data: Blob, onprogress?: (loaded: number, total: number) => void): void {\n        if (this.closed())\n            return error_alert(t(\"disconnected_with_server\"));\n\n        if (this.ws === null)\n            return console.error('WebSocketWebIOSession.ws is null when invoke WebSocketWebIOSession.send_message. ' +\n                'Please call WebSocketWebIOSession.start_session first');\n\n        this.ws.send(data);\n\n        if (onprogress)\n            this.start_onprogress(onprogress);\n\n        if (this.debug) console.info('<<< Blob data...');\n    }\n\n    close_session(): void {\n        this._closed = true;\n        safe_poprun_callbacks(this._session_close_callbacks, 'session_close_callback');\n        try {\n            this.ws.close();\n        } catch (e) {\n        }\n    }\n\n    closed(): boolean {\n        return this._closed || this.ws.readyState === WebSocket.CLOSED || this.ws.readyState === WebSocket.CLOSING;\n    }\n}\n\n\nexport class HttpSession implements Session {\n    interval_pull_id: number = null;\n    webio_session_id: string = '';\n    debug = false;\n\n    private sender: ReliableSender = null;\n    private _executed_command_msg_id = -1;\n    private _closed = false;\n    private _session_create_callbacks: (() => void)[] = [];\n    private _session_close_callbacks: (() => void)[] = [];\n    private _on_server_message: (msg: Command) => void = () => {\n    };\n\n\n    constructor(public api_url: string, app_name = 'index', public pull_interval_ms = 1000) {\n        let url = new URL(api_url, window.location.href);\n        url.search = \"?app=\" + app_name;\n        this.api_url = url.href;\n        this.sender = new ReliableSender(this._send.bind(this));\n    }\n\n    on_session_create(callback: () => void): void {\n        this._session_create_callbacks.push(callback);\n    }\n\n    on_session_close(callback: () => void): void {\n        this._session_close_callbacks.push(callback);\n    }\n\n    on_server_message(callback: (msg: Command) => void): void {\n        this._on_server_message = callback;\n    }\n\n    start_session(debug: boolean = false): void {\n        this.debug = debug;\n        this.webio_session_id = \"NEW-\" + randomid(24);\n        this.pull();\n        this.interval_pull_id = setInterval(() => {\n            this.pull()\n        }, this.pull_interval_ms);\n    }\n\n    pull() {\n        let that = this;\n        $.ajax({\n            type: \"GET\",\n            url: `${this.api_url}&ack=${this._executed_command_msg_id}`,\n            contentType: \"application/json; charset=utf-8\",\n            dataType: \"json\",\n            headers: {\"webio-session-id\": this.webio_session_id},\n            success: function (data: { commands: Command[][], seq: number, event: number, ack: number },\n                               textStatus: string, jqXHR: JQuery.jqXHR) {\n                safe_poprun_callbacks(that._session_create_callbacks, 'session_create_callback');\n                that._on_request_success(data, textStatus, jqXHR);\n                if (that.webio_session_id.startsWith(\"NEW-\")) {\n                    that.webio_session_id = that.webio_session_id.substring(4);\n                }\n            }\n        })\n    }\n\n    private _on_request_success(data: { commands: Command[][], seq: number, ack: number },\n                                textStatus: string, jqXHR: JQuery.jqXHR) {\n        this.sender.ack(data.ack);\n\n        let msg_start_idx = this._executed_command_msg_id - data.seq + 1;\n        if (data.commands.length <= msg_start_idx)\n            return;\n        this._executed_command_msg_id = data.seq + data.commands.length - 1;\n\n        let sid = jqXHR.getResponseHeader('webio-session-id');\n        if (sid)\n            this.webio_session_id = sid;\n\n        for (let msgs of data.commands.slice(msg_start_idx)) {\n            for (let msg of msgs) {\n                if (this.debug) console.info('>>>', msg);\n                this._on_server_message(msg);\n            }\n        }\n    };\n\n    send_message(msg: ClientEvent, onprogress?: (loaded: number, total: number) => void): void {\n        if (this.debug) console.info('<<<', msg);\n        this.sender.add_send_task({\n            data: msg,\n            json: true,\n            onprogress: onprogress,\n        })\n    }\n\n    send_buffer(data: Blob, onprogress?: (loaded: number, total: number) => void): void {\n        if (this.debug) console.info('<<< Blob data...');\n        this.sender.add_send_task({\n            data: data,\n            json: false,\n            onprogress: onprogress,\n        }, false)\n    }\n\n    _send(params: { [key: string]: any; }[], seq: number): Promise<void> {\n        if (this.closed()) {\n            this.sender.stop();\n            error_alert(t(\"disconnected_with_server\"));\n            return Promise.reject();\n        }\n        let data: any, ajax_options: any;\n        let json = params.some(p => p.json);\n        if (json) {\n            data = JSON.stringify(params.map(p => p.data));\n            ajax_options = {\n                contentType: \"application/json; charset=utf-8\",\n            }\n        } else {\n            data = params[0].data;\n            ajax_options = {\n                cache: false,\n                processData: false,\n                contentType: 'application/octet-stream',\n            }\n        }\n        return new Promise((resolve, reject) => {\n            $.ajax({\n                data: data,\n                ...ajax_options,\n                type: \"POST\",\n                url: `${this.api_url}&ack=${this._executed_command_msg_id}&seq=${seq}`,\n                dataType: \"json\",\n                headers: {\"webio-session-id\": this.webio_session_id},\n                success: this._on_request_success.bind(this),\n                xhr: function () {\n                    let xhr = new window.XMLHttpRequest();\n                    // Upload progress\n                    xhr.upload.addEventListener(\"progress\", function (evt) {\n                        if (evt.lengthComputable) {\n                            params.forEach(p => {\n                                if (p.onprogress) // only the first one\n                                    p.onprogress(evt.loaded, evt.total);\n                                p.onprogress = null;\n                            });\n                        }\n                    }, false);\n                    return xhr;\n                },\n                error: function () {\n                    console.error('Http push event failed, will retry');\n                }\n            }).always(() => resolve());\n        });\n    }\n\n    close_session(): void {\n        this._closed = true;\n        safe_poprun_callbacks(this._session_close_callbacks, 'session_close_callback');\n        clearInterval(this.interval_pull_id);\n        this.sender.stop();\n    }\n\n    closed(): boolean {\n        return this._closed;\n    }\n\n    change_pull_interval(new_interval: number): void {\n        clearInterval(this.interval_pull_id);\n        this.pull_interval_ms = new_interval;\n        this.interval_pull_id = setInterval(() => {\n            this.pull()\n        }, this.pull_interval_ms);\n    }\n}\n\n/*\n* Check given `backend_addr` is a http backend\n* Usage:\n*   // `http_backend` is a boolean to present whether or not a http_backend the given `backend_addr` is\n*   is_http_backend('http://localhost:8080/io').then(function(http_backend){ });\n* */\nexport function is_http_backend(backend_addr: string) {\n    let url = new URL(backend_addr);\n    let protocol = url.protocol || window.location.protocol;\n    url.protocol = protocol.replace('wss', 'https').replace('ws', 'http');\n    backend_addr = url.href;\n\n    return new Promise(function (resolve, reject) {\n        $.get(backend_addr, {test: 1}, undefined, 'html').done(function (data: string) {\n            resolve(data === 'ok');\n        }).fail(function (e: JQuery.jqXHR) {\n            resolve(false);\n        });\n    });\n}\n\n\n// Send data to backend\nexport function pushData(data: any, callback_id: string) {\n    if (state.CurrentSession === null)\n        return console.error(\"can't invoke PushData when WebIOController is not instantiated\");\n\n    state.CurrentSession.send_message({\n        event: \"callback\",\n        task_id: callback_id,\n        data: data\n    });\n}","import {Session} from \"./session\";\n\n// Runtime state\nexport let state = {\n    AutoScrollBottom: false,  // 是否有新内容时自动滚动到底部\n    CurrentSession: null as Session,  // 当前正在活跃的会话\n    ShowDuration: 200,  // ms, 显示表单的过渡动画时长\n    InputPanelMinHeight: 300,  // 输入panel的最小高度\n    InputPanelInitHeight: 300,  // 输入panel的初始高度\n    FixedInputPanel: true,\n    AutoFocusOnInput: true,\n};\n\n// App config\nexport let config = {\n    codeMirrorModeURL: \"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.52.2/mode/%N/%N.min.js\",\n    codeMirrorThemeURL: \"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.52.2/theme/%N.min.css\",\n    outputAnimation: true, // 启用内容输出动画\n    httpPullInterval: 1000,  // HttpSession 拉取消息的周期（ms）\n    debug: false,  // 调试模式， 打印所有交互的消息\n};\n","import {state} from \"./state\";\n\nlet has_input = false;\nlet input_panel = $('#input-container');\nlet input_cards = $('#input-cards');\nlet end_space = $('#end-space');\n\nexport function show_input() {\n    close_input();\n    has_input = true;\n    if (($(window).height() - input_panel[0].getBoundingClientRect().top < input_min_fixed_height() - 40)) {\n        toggle_input_panel_style(true);\n    }\n}\n\nexport function close_input() {\n    has_input = false;\n    if (input_panel.hasClass('fixed')) {\n        input_panel.removeClass('fixed');\n    }\n    input_panel.height('unset');\n    end_space.height(0);\n}\n\n\nfunction input_min_fixed_height() { // 返回当前的输入panel的最小高度\n    const min_fixed_height = Math.max(state.InputPanelMinHeight, 75);\n\n    //80 = #input-container.fixed padding-top + padding-bottom\n    let now_height = input_cards.height() + 80;\n\n    return Math.min(now_height, min_fixed_height);\n}\n\n\nfunction fixed_input_init_height() { // 返回当前的输入panel的初始高度\n    const init_fixed_height = Math.max(state.InputPanelInitHeight, 175);\n\n    //80 = #input-container.fixed padding-top + padding-bottom\n    let now_height = input_cards.height() + 80;\n\n    return Math.min(now_height, init_fixed_height);\n}\n\n\nfunction toggle_input_panel_style(fixed: boolean) {\n    fixed = state.FixedInputPanel && fixed;\n    if (!fixed) {\n        input_panel.removeClass('fixed');\n        end_space.height(0);\n        input_panel.height('unset');\n    } else {\n        let min = fixed_input_init_height();\n        end_space.height(min - 40);  // 40 =  #input-container.fixed padding-top\n        input_panel.height(min);\n        // input_panel显示动画\n        // input_panel.height(0);\n        // input_panel.stop().animate({height: min}, {duration: 50, easing: 'swing'});\n        input_panel.addClass('fixed');\n    }\n}\n\n\nfunction move_input_panel(step: number) {\n    let new_height = input_panel.height() + step;\n    if (new_height >= input_cards.height())\n        new_height = input_cards.height();\n    else if (new_height <= input_min_fixed_height() - 80)   //80 = #input-container.fixed padding-top + padding-bottom\n        new_height = input_min_fixed_height() - 80;\n\n    input_panel.height(new_height);\n    end_space.height(new_height - 40); // 40 =  #input-container.fixed padding-top\n}\n\n\n$(function () {\n    input_panel = $('#input-container');\n    input_cards = $('#input-cards');\n    end_space = $('#end-space');\n\n\n    let lastScrollTop = 0; // to Detecting scroll direction.  Credits: https://stackoverflow.com/questions/31223341/detecting-scroll-direction\n    $(window).on('scroll', function () {\n        let st = window.pageYOffset || document.documentElement.scrollTop; // Credits: \"https://github.com/qeremy/so/blob/master/so.dom.js#L426\"\n        let downmove = st < lastScrollTop;\n        let upmove = st > lastScrollTop;\n\n        if (!input_panel.hasClass('fixed')) {\n            // 40 =  #input-container.fixed padding-top\n            if (($(window).height() - input_panel[0].getBoundingClientRect().top < input_min_fixed_height() - 40) && downmove && has_input) {\n                toggle_input_panel_style(true);\n                st = window.pageYOffset || document.documentElement.scrollTop;\n            }\n        } else {\n            // 到达底部\n            // 50 = footer height\n            // because of the hide-able address panel in mobile browser,\n            // `$(window).height() <= window.innerHeight` in mobile phone\n            if ($(window).scrollTop() + window.innerHeight > $(document).height() - 50 && upmove) {\n                toggle_input_panel_style(false);\n                st = window.pageYOffset || document.documentElement.scrollTop;\n            }\n        }\n        lastScrollTop = st <= 0 ? 0 : st; // For Mobile or negative scrolling\n    });\n\n    input_panel[0].addEventListener(\"wheel\", function (e) {\n        // Credits: https://stackoverflow.com/questions/30892830/detect-scrolling-on-pages-without-a-scroll-bar\n\n        if (!input_panel.hasClass('fixed')) return;\n        e.preventDefault();\n\n        // to make it work on IE or Chrome\n        // @ts-ignore\n        let variation = parseInt(e.deltaY);\n        move_input_panel(variation);\n    });\n\n    let last_y = -1;\n    input_panel[0].addEventListener(\"touchstart\", function (evt) {\n        if (evt.changedTouches.length > 1)\n            return;\n        last_y = evt.changedTouches[0].screenY;\n    });\n\n\n    input_panel[0].addEventListener(\"touchmove\", function (evt) {\n        if (!input_panel.hasClass('fixed')) return;\n        if (evt.changedTouches.length > 1)\n            return;\n        evt.preventDefault();\n        let variation = last_y - evt.changedTouches[0].screenY;\n        last_y = evt.changedTouches[0].screenY;\n        move_input_panel(variation);\n    });\n});\n","// Indexable Types\n\ninterface Dict {\n    [index: string]: any;\n}\n\nexport class LRUMap {\n    keys: string[] = [];\n    map: Dict = {};\n\n    push(key: string, value: any) {\n        if (key in this.map)\n            return console.error(\"LRUMap: key:%s already in map\", key);\n        this.keys.push(key);\n        this.map[key] = value;\n    };\n\n    get_value(key: string) {\n        return this.map[key];\n    };\n\n    get_top() {\n        let top_key = this.keys[this.keys.length - 1];\n        return this.map[top_key];\n    };\n\n    set_value(key: string, value: any) {\n        if (!(key in this.map))\n            return console.error(\"LRUMap: key:%s not in map when call `set_value`\", key);\n        this.map[key] = value;\n    };\n\n    move_to_top(key: string) {\n        const index = this.keys.indexOf(key);\n        if (index > -1) {\n            this.keys.splice(index, 1);\n            this.keys.push(key);\n        } else {\n            return console.error(\"LRUMap: key:%s not in map when call `move_to_top`\", key);\n        }\n    };\n\n    remove(key: string) {\n        if (key in this.map) {\n            delete this.map[key];\n            this.keys.splice(this.keys.indexOf(key), 1);\n        } else {\n            return console.error(\"LRUMap: key:%s not in map when call `remove`\", key);\n        }\n    };\n\n}\n\n\nexport function b64toBlob(b64Data: string, contentType = 'application/octet-stream', sliceSize = 512) {\n    const byteCharacters = atob(b64Data);\n    const byteArrays = [];\n\n    for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n        const slice = byteCharacters.slice(offset, offset + sliceSize);\n\n        const byteNumbers = new Array(slice.length);\n        for (let i = 0; i < slice.length; i++) {\n            byteNumbers[i] = slice.charCodeAt(i);\n        }\n\n        const byteArray = new Uint8Array(byteNumbers);\n        byteArrays.push(byteArray);\n    }\n\n    const blob = new Blob(byteArrays, {type: contentType});\n    return blob;\n}\n\nexport function make_set(arr: string[]) {\n    let set: { [i: string]: string } = {};\n    for (let val of arr)\n        set[val] = '';\n    return set;\n}\n\nexport function deep_copy(obj: any): any {\n    return JSON.parse(JSON.stringify(obj));\n}\n\n\n// container 为带有滚动条的元素\nexport function body_scroll_to(target: JQuery, position = 'top', complete?: (this: HTMLElement) => void, offset = 0) {\n    let scrollTop = null;\n    if (position === 'top')\n        scrollTop = target.offset().top;\n    else if (position === 'middle')\n        scrollTop = target.offset().top + 0.5 * target[0].clientHeight - 0.5 * $(window).height();\n    else if (position === 'bottom')\n        scrollTop = target[0].clientHeight + target.offset().top - $(window).height();\n\n    let container = $('body,html');\n    let speed = Math.abs(container.scrollTop() - scrollTop - offset);\n    if (scrollTop !== null)\n        container.stop().animate({scrollTop: scrollTop + offset}, Math.min(speed, 500) + 100, complete);\n}\n\n// container 为带有滚动条的元素\nexport function box_scroll_to(target: JQuery, container: JQuery, position = 'top', complete?: (this: HTMLElement) => void, offset = 0) {\n    let scrollTopOffset = null;\n    if (position === 'top')\n        scrollTopOffset = target[0].getBoundingClientRect().top - container[0].getBoundingClientRect().top;\n    else if (position === 'middle')\n        scrollTopOffset = target[0].getBoundingClientRect().top - container[0].getBoundingClientRect().top - container.height() * 0.5 + target.height() * 0.5;\n    else if (position === 'bottom')\n        scrollTopOffset = target[0].getBoundingClientRect().bottom - container[0].getBoundingClientRect().bottom;\n\n    let speed = Math.min(Math.abs(scrollTopOffset + offset), 500) + 100;\n    if (scrollTopOffset !== null)\n        container.stop().animate({scrollTop: container.scrollTop() + scrollTopOffset + offset}, speed, complete);\n}\n\n\nexport function randomid(length: number) {\n    let result = '';\n    let characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    let charactersLength = characters.length;\n    for (let i = 0; i < length; i++) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n}\n\n// 跳转PyWebIO Application\n// name: app名称\n// new_window: 是否在新窗口打开\nexport function openApp(name: string, new_window: boolean) {\n    let url = new URL(window.location.href);\n    url.searchParams.set(\"app\", name);\n    if (new_window)\n        window.open(url.href);\n    else\n        window.location.href = url.href;\n}\n\n\nexport function error_alert(text: string, duration: number = 1.5) {\n    Toastify({\n        text: Mustache.escape(text),\n        duration: duration * 1000,\n        gravity: \"top\",\n        position: 'center',\n        backgroundColor: '#e53935',\n    }).showToast();\n}\n\n\n// make File object to Blob\nexport function serialize_file(file: File, input_name: string) {\n    let header = {\n        'filename': file.name,\n        'size': file.size,\n        'mime_type': file.type,\n        'last_modified': file.lastModified / 1000,\n        'input_name': input_name\n    }\n    return new Blob([serialize_json(header), int2bytes(file.size), file], {type: 'application/octet-stream'});\n}\n\n// make json object to Blob\nexport function serialize_json(json_obj: any) {\n    let json_str = JSON.stringify(json_obj);\n    const encoder = new TextEncoder();\n    const json_buf = encoder.encode(json_str).buffer;\n    return new Blob([int2bytes(json_buf.byteLength), json_buf], {type: 'application/octet-stream'});\n}\n\nfunction int2bytes(num: number) {\n    const buf = new ArrayBuffer(8);\n    const dataView = new DataView(buf);\n    dataView.setUint32(0, (num / 4294967296) | 0); // 4294967296 == 2^32\n    dataView.setUint32(4, num | 0);\n    return buf;\n}\n\nexport function is_mobile() {\n    // @ts-ignore\n    if (navigator.userAgentData) return navigator.userAgentData.mobile;\n    const ipadOS = (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1); /* iPad OS 13 */\n    return /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()) || ipadOS;\n}\n\n// put send task to a queue and run it one by one\nexport class ReliableSender {\n    private seq = 0;\n    private queue: { enable_batch: boolean, task: any }[] = [];\n    private _stop = false;\n    private ignore_interval_send = false;\n    private last_send_time = 0;\n    private interval_send_id = 0;\n\n    constructor(\n        private readonly sender: (tasks: any[], seq: number) => Promise<void>,\n        private window_size: number = 8,\n        init_seq = 0,\n        send_interval = 2000,\n        private min_send_interval = 1000,\n    ) {\n        this.sender = sender;\n        this.window_size = window_size;\n        this.seq = init_seq;\n        this.queue = [];\n        this.ignore_interval_send = false;\n        this.interval_send_id = setInterval(this.interval_send.bind(this), send_interval);\n    }\n\n    /*\n    * for continuous batch_send tasks in queue, they will be sent in one sender,\n    * for non-batch task, each will be sent in a single sender,\n    * the sending will retry when there are unfinished task in queue.\n    * */\n    add_send_task(task: any, allow_batch_send = true) {\n        if (this._stop) return;\n        this.queue.push({\n            enable_batch: allow_batch_send,\n            task: task\n        });\n        this.do_send();\n    }\n\n    private get_tasks() {\n        let tasks: any[] = [];\n        for (let item of this.queue) {\n            if (!item.enable_batch)\n                break;\n            tasks.push(item.task);\n        }\n        let batch_send = true;\n        if (tasks.length === 0 && this.queue.length > 0 && !this.queue[0].enable_batch) {\n            batch_send = false;\n            tasks.push(this.queue[0].task);\n        }\n        return {tasks, batch_send};\n    }\n\n    private do_send() {\n        const info = this.get_tasks();\n        const tasks = info.tasks, batch_send = info.batch_send;\n        if (tasks.length === 0) {\n            return;\n        }\n        this.last_send_time = Date.now();\n        if (!batch_send)  // for non-batch task, only retry after current request finished\n            this.ignore_interval_send = true;\n        this.sender(tasks, this.seq).then(() => {\n            this.ignore_interval_send = false;\n        });\n    }\n\n    private interval_send() {\n        if (this._stop || this.ignore_interval_send) return;\n        if (Date.now() - this.last_send_time < this.min_send_interval) return;\n        this.do_send();\n    }\n\n    // seq for each ack call must be larger than the previous one, otherwise the ack will be ignored\n    ack(seq: number) {\n        if (seq < this.seq)\n            return;\n        let pop_count = seq - this.seq + 1;\n        this.queue = this.queue.slice(pop_count);\n        this.seq = seq + 1;\n    }\n\n    stop() {\n        this._stop = true;\n        clearInterval(this.interval_send_id);\n    }\n}"]}